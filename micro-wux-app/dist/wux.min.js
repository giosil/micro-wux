var WUX,__assign=this&&this.__assign||function(){return(__assign=Object.assign||function(t){for(var s,i=1,n=arguments.length;i<n;i++)for(var p in s=arguments[i])Object.prototype.hasOwnProperty.call(s,p)&&(t[p]=s[p]);return t}).apply(this,arguments)},__spreadArray=this&&this.__spreadArray||function(to,from,pack){if(pack||2===arguments.length)for(var ar,i=0,l=from.length;i<l;i++)!ar&&i in from||((ar=ar||Array.prototype.slice.call(from,0,i))[i]=from[i]);return to.concat(ar||Array.prototype.slice.call(from))},WuxDOM=function(){function WuxDOM(){}return WuxDOM.onRender=function(handler){WuxDOM.renderHandlers.push(handler)},WuxDOM.onUnmount=function(handler){WuxDOM.unmountHandlers.push(handler)},WuxDOM.getLastContext=function(){return WuxDOM.lastCtx},WuxDOM.register=function(node,c){var r;if(node)return node="string"==typeof node?0==node.indexOf("#")?node.substring(1):node:node.id,c?"string"==typeof c?((r=WuxDOM.components[node])&&delete WuxDOM.components[node],r):WuxDOM.components[node]=c:WuxDOM.components[node]},WuxDOM.render=function(component,node,before,after){WUX.debug&&console.log("WuxDOM.render "+WUX.str(component)+" on "+WUX.str(node)+"..."),WUX.global.init(function(){node=node||WuxDOM.lastCtx||document.getElementById("view-root"),before&&before(node);var ctx=WuxDOM.mount(component,node);if(WuxDOM.lastCtx=ctx,after&&after(node),0<WuxDOM.renderHandlers.length){for(var e={component:component instanceof WUX.WComponent?component:null,element:ctx,target:ctx.firstChild,type:"render"},_i=0,_a=WuxDOM.renderHandlers;_i<_a.length;_i++)(0,_a[_i])(e);WuxDOM.renderHandlers=[]}})},WuxDOM.mount=function(e,node){if(node=node||WuxDOM.lastCtx||document.getElementById("view-root"),WUX.debug&&console.log("WuxDOM.mount "+WUX.str(e)+" on "+WUX.str(node)+"..."),null==e)console.error("WuxDOM.mount "+WUX.str(e)+" on "+WUX.str(node)+" -> invalid component");else{var t,ctx="string"==typeof node?(ctx=document.getElementById(node))||document.querySelector(node):node;if(ctx)return WuxDOM.lastCtx=ctx,e instanceof WUX.WComponent?(e.mount(ctx),WuxDOM.register(ctx,e)):e instanceof Element?ctx.append(e):((t=document.createElement("template")).innerHTML=e,ctx.append(t.content.firstElementChild)),WUX.debug&&console.log("WuxDOM.mount "+WUX.str(e)+" on "+WUX.str(node)+" completed."),ctx;console.error("WuxDOM.mount "+WUX.str(e)+" on "+WUX.str(node)+" -> context unavailable")}},WuxDOM.unmount=function(node){var ctx;if(node=node||WuxDOM.lastCtx||document.getElementById("view-root"),WUX.debug&&console.log("WuxDOM.unmount "+WUX.str(node)+"..."),ctx="string"==typeof node?(ctx=document.getElementById(node))||document.querySelector(node):node){var wcomp=WuxDOM.register(ctx,"delete");if(wcomp&&wcomp.unmount(),ctx.remove(),WUX.debug&&console.log("WuxDOM.unmount "+WUX.str(node)+" completed."),0<WuxDOM.unmountHandlers.length){for(var e={component:wcomp,element:ctx,target:ctx.firstChild,type:"unmount"},_i=0,_a=WuxDOM.unmountHandlers;_i<_a.length;_i++)(0,_a[_i])(e);WuxDOM.unmountHandlers=[]}return ctx}console.error("WuxDOM.unmount "+WUX.str(node)+" -> node unavailable")},WuxDOM.replace=function(o,e){var node,wcomp;if(e||(e=o,o=void 0),o?"string"==typeof o?(wcomp=WUX.getComponent(o))||(node=wcomp.getContext(),wcomp.unmount()):o instanceof WUX.WComponent?(node=o.getContext(),o.unmount()):(node=o.parentElement)&&(node.innerHTML=""):node=WuxDOM.unmount(),node=node||document.getElementById("#view-root"))return WuxDOM.mount(e,node);console.error("WuxDOM.replace "+WUX.str(node)+" -> node unavailable")},WuxDOM.create=function(node,tag,id,cs,st,inner){if(tag=tag||"div",id){var c=document.getElementById(id);if(c)return c}var n="string"==typeof node?(n=document.getElementById(node))||document.querySelector(node):node;if(!n)return console.error("WuxDOM.create "+tag+" with id="+id+" on "+WUX.str(node)+" -> node unavailable"),null;c=document.createElement(tag);return id&&c.setAttribute("id",id),cs&&c.setAttribute("class",cs),st&&c.setAttribute("style",st),inner&&("string"==typeof inner?c.innerHTML=inner:c.append(inner)),n.append(c),c},WuxDOM.components={},WuxDOM.renderHandlers=[],WuxDOM.unmountHandlers=[],WuxDOM}(),__extends=(!function(WUX){WUX.debug=!1,WUX.registry=[],WUX.version="1.0.0";var WComponent=function(){function WComponent(id,name,props,classStyle,style,attributes){this.mounted=!1,this.debug=WUX.debug,this.forceOnChange=!1,this.rootTag="div",this.subSeq=0,this.dontTrigger=!1,this._visible=!0,this._enabled=!0,this.handlers={},this.cuid=Math.floor(1e9*Math.random()),id instanceof Element?(this.root=id,this.root&&(this.mounted=!0),this.debug&&console.log("["+str(this)+"] new wrapper root="+str(this.root))):("string"==typeof id&&(this.id="*"==id?"w"+this.cuid:id),this.name=name||"WComponent",this._classStyle=classStyle,(id=WUX.cls(style))&&(this._classStyle=this._classStyle?this._classStyle+" "+id:id),this._style=WUX.style(style),this._attributes=WUX.attributes(attributes),this.debug&&console.log("["+str(this)+"] new"),this.debug&&console.log("["+str(this)+"] updateProps",props),this.updateProps(props))}return Object.defineProperty(WComponent.prototype,"visible",{get:function(){return this.internal?this.internal.visible:this._visible},set:function(b){this._visible=b,this.internal&&(this.internal.visible=b),this.root instanceof HTMLElement&&(this._visible?this.root.style.display="block":this.root.style.display="none")},enumerable:!1,configurable:!0}),Object.defineProperty(WComponent.prototype,"enabled",{get:function(){return this.internal?this.internal.enabled:this._enabled},set:function(b){this._enabled=b,this.internal&&(this.internal.enabled=b),this.root&&(this._enabled?this.root.removeAttribute("disabled"):this.root.setAttribute("disabled",""))},enumerable:!1,configurable:!0}),Object.defineProperty(WComponent.prototype,"style",{get:function(){return this.internal?this.internal.style:this._style},set:function(s){this._style=WUX.css(this._baseStyle,s),this.internal&&(this.internal.style=s),this.root&&this.root.setAttribute("style",this._style)},enumerable:!1,configurable:!0}),Object.defineProperty(WComponent.prototype,"classStyle",{get:function(){return this.internal?this.internal.classStyle:this._classStyle},set:function(s){this.internal&&(this.internal.classStyle=s);var remove=!1,toggle=!1;s&&1<s.length&&"!"==s.charAt(0)?(s=s.substring(1),remove=!0):s&&1<s.length&&"?"==s.charAt(0)&&(s=s.substring(1),toggle=!0),this._classStyle=remove?WUX.removeClass(this._classStyle,s):toggle?WUX.toggleClass(this._classStyle,s):WUX.cls(this._baseClass,s),this.root&&(remove?removeClassOf(this.root,s):toggle?toggleClassOf(this.root,s):this.root.setAttribute("class",this._classStyle))},enumerable:!1,configurable:!0}),Object.defineProperty(WComponent.prototype,"attributes",{get:function(){return this.internal?this.internal.attributes:this._attributes},set:function(s){this._attributes=s,this.internal&&(this.internal.attributes=s)},enumerable:!1,configurable:!0}),Object.defineProperty(WComponent.prototype,"tooltip",{get:function(){return this.internal?this.internal.tooltip:this._tooltip},set:function(s){this._tooltip=s,this.internal&&(this.internal.tooltip=s),this.root&&this.root.setAttribute("title",this._tooltip)},enumerable:!1,configurable:!0}),WComponent.prototype.css=function(){for(var items=[],_i=0;_i<arguments.length;_i++)items[_i]=arguments[_i];if(!items||0==items.length)return this;var c=cls.apply(void 0,items),c=(c&&(this.classStyle=c),css.apply(void 0,items));return c&&(this.style=c),this},WComponent.prototype.focus=function(){return this.internal&&this.internal.focus(),this.root instanceof HTMLElement&&this.root.focus(),this},WComponent.prototype.blur=function(){return this.internal&&this.internal.blur(),this.root instanceof HTMLElement&&this.root.blur(),this},WComponent.prototype.forceUpdate=function(callback){return this.update(this.props,this.state,!1,!1,!0,callback),this},WComponent.prototype.getContext=function(){return this.context},WComponent.prototype.getRoot=function(){if(!this.root&&this.internal)return this.internal.getRoot();if(this.root)return this.root;if(this.id){var he=document.getElementById(this.id);if(he)return he}return this.context},WComponent.prototype.getState=function(){return this.state},WComponent.prototype.setState=function(nextState,force,callback){return this.debug&&console.log("["+str(this)+"] setState",nextState),this.update(this.props,nextState,!1,!0,this.forceOnChange||force,callback),this},WComponent.prototype.getProps=function(){return this.props},WComponent.prototype.setProps=function(nextProps,force,callback){return this.debug&&console.log("["+str(this)+"] setProps",nextProps),this.update(nextProps,this.state,!0,!1,this.forceOnChange||force,callback),this},WComponent.prototype.on=function(events,handler){if(!events)return this;for(var _i=0,arrayEvents_1=events.split(" ");_i<arrayEvents_1.length;_i++){var event_1=arrayEvents_1[_i];this.handlers[event_1]||(this.handlers[event_1]=[]),this.handlers[event_1].push(handler),"_"!=event_1.charAt(0)&&"mount"!=event_1&&"unmount"!=event_1&&"statechange"!=event_1&&"propschange"!=event_1&&this.root&&this.root.addEventListener(event_1,handler)}return this.internal&&this.internal.on(events,handler),this},WComponent.prototype.off=function(events){if(events)for(var _i=0,arrayEvents_2=events.split(" ");_i<arrayEvents_2.length;_i++){var event_2=arrayEvents_2[_i];if(this.root)for(var _a=0,hs_1=this.handlers[event_2];_a<hs_1.length;_a++){var h=hs_1[_a];this.root.removeEventListener(event_2,h)}delete this.handlers[event_2]}else this.handlers={};return this.internal&&this.internal.off(events),this},WComponent.prototype.trigger=function(eventType){for(var extParams=[],_i=1;_i<arguments.length;_i++)extParams[_i-1]=arguments[_i];if(this.debug&&console.log("["+str(this)+"] trigger",eventType,extParams),eventType){var ep0=extParams&&0<extParams.length?extParams[0]:void 0;if("_"==eventType.charAt(0)||"mount"==eventType||"unmount"==eventType||"statechange"==eventType||"propschange"==eventType){if(void 0!==ep0&&("statechange"==eventType?this.state!=extParams[0]&&(this.state=extParams[0],this.debug&&console.log("["+str(this)+"] trigger set state",this.state)):"propschange"==eventType&&this.props!=extParams[0]&&(this.props=extParams[0],this.debug&&console.log("["+str(this)+"] trigger set props",this.props))),!this.handlers||!this.handlers[eventType])return this;for(var event_3=this.createEvent(eventType,ep0),_b=0,_c=this.handlers[eventType];_b<_c.length;_b++)(0,_c[_b])(event_3)}else this.root&&(this.debug&&console.log("["+str(this)+"] trigger "+eventType+" on root="+str(this.root)),this.root.dispatchEvent(new Event(eventType,ep0)));return this.internal&&(this.debug&&console.log("["+str(this)+"] trigger "+eventType+" on internal="+str(this.internal)),(ep0=this.internal).trigger.apply(ep0,__spreadArray([eventType],extParams,!1))),this}},WComponent.prototype.unmount=function(){var idx;return this.debug&&console.log("["+str(this)+"] unmount ctx="+str(this.context)+" root="+str(this.root),this.state,this.props),this.componentWillUnmount(),this.internal&&this.internal.unmount(),this.internal=void 0,this.root&&this.root.remove(),this.root=void 0,this.$r=void 0,this.id&&0<=(idx=WUX.registry.indexOf(this.id))&&WUX.registry.splice(idx,1),this.mounted=!1,WuxDOM.register(this.id,"delete"),this.trigger("unmount"),this},WComponent.prototype.mount=function(context){this.debug&&console.log("["+str(this)+"] mount ctx="+str(context)+" root="+str(this.root),this.state,this.props),this.id||this.root&&(this.id=this.root.id),context&&(this.context=context),this.context||this.root&&(this.context=this.root.parentElement,this.context||(this.context=this.root));try{this.mounted&&this.unmount(),this.mounted=!1,this.context||(he=document.getElementById(this.id))&&(this.context=he),this.debug&&console.log("["+str(this)+"] componentWillMount ctx="+str(context)+" root="+str(this.root)),this.componentWillMount(),this.context&&(this.debug&&console.log("["+str(this)+"] render ctx="+str(context)+" root="+str(this.root)),(r=this.render())?r instanceof WComponent?(this.debug&&console.log("["+str(this)+"] render -> "+str(r)),(this.internal=r).parent||(r.parent=this),r.mount(this.context),this.root||(this.id?(he=document.getElementById(this.id),this.root=he||this.internal.getRoot()):this.root=this.context)):r instanceof Element?(this.context.append(r),this.root||(this.root=r)):((t=document.createElement("template")).innerHTML=r,this.context.append(t.content.firstElementChild),(lc=this.context.lastChild)instanceof Element&&(this.root=lc),this.root||(this.root=this.id?document.getElementById(this.id):this.context)):(this.internal&&this.internal.mount(this.context),this.root||(this.root=this.id?document.getElementById(this.id):this.context))),this._visible||(this.internal?this.internal.visible=!1:this.root instanceof HTMLElement&&(this.root.style.display="none")),this._enabled||(this.internal?this.internal.enabled=!1:this.root.setAttribute("disabled","")),this.debug&&console.log("["+str(this)+"] componentDidMount ctx="+str(context)+" root="+str(this.root));var r,t,lc,wci,jq=window.jQuery||null;if(jq&&(this.$r=jq(this.root)),this.componentDidMount(),this.root)for(var event_4 in this.handlers)if(event_4&&"_"!=event_4.charAt(0)&&"mount"!=event_4&&"unmount"!=event_4&&"statechange"!=event_4&&"propschange"!=event_4)for(var _i=0,_a=this.handlers[event_4];_i<_a.length;_i++){var handler=_a[_i];this.root.addEventListener(event_4,handler)}WuxDOM.register(this.root,this),this.mounted=!0,!this.id||this.internal&&this.internal.id==this.id||(0<=WUX.registry.indexOf(this.id)?(wci=WUX.getComponent(this.id))&&wci.cuid!=this.cuid&&console.error("["+str(this)+"] id already used by "+str(wci)):WUX.registry.push(this.id)),this.trigger("mount")}catch(e){var he=str(this)+" "+str(this.context);console.error("["+str(this)+"] mount error "+he,e),this.componentDidCatch(e,he)}return this},WComponent.prototype.componentWillUnmount=function(){},WComponent.prototype.componentWillMount=function(){},WComponent.prototype.render=function(){return this.buildRoot(this.rootTag)},WComponent.prototype.componentDidMount=function(){},WComponent.prototype.componentDidCatch=function(error,errorInfo){},WComponent.prototype.shouldComponentUpdate=function(nextProps,nextState){return"object"==typeof nextProps||"object"==typeof nextState||(this.props!=nextProps||this.state!=nextState)},WComponent.prototype.componentWillUpdate=function(nextProps,nextState){},WComponent.prototype.componentDidUpdate=function(prevProps,prevState){},WComponent.prototype.updateProps=function(nextProps){this.props=nextProps},WComponent.prototype.updateState=function(nextState){this.state=nextState},WComponent.prototype.update=function(nextProps,nextState,propsChange,stateChange,force,callback){void 0===force&&(force=!1),this.debug&&console.log("["+str(this)+"] update",nextProps,nextState,"propsChange="+propsChange+",stateChange="+stateChange+",force="+force),nextProps=void 0===nextProps?this.props:nextProps;var prevProps=this.props,prevState=this.state;if(this.dontTrigger=!1,this.mounted){if(force||this.shouldComponentUpdate(nextProps,nextState)){try{this.debug&&console.log("["+str(this)+"] componentWillUpdate",nextProps,nextState),this.componentWillUpdate(nextProps,nextState),propsChange&&(this.debug&&console.log("["+str(this)+"] updateProps",nextProps),this.updateProps(nextProps)),stateChange&&(this.debug&&console.log("["+str(this)+"] updateState",nextState),this.updateState(nextState)),force&&this.mount(),this.debug&&console.log("["+str(this)+"] componentDidUpdate",prevProps,prevState),this.componentDidUpdate(prevProps,prevState),propsChange&&!this.dontTrigger&&this.trigger("propschange"),stateChange&&!this.dontTrigger&&this.trigger("statechange")}catch(e){return this.componentDidCatch(e,str(this)+"|"+str(this.context)),!1}callback&&callback()}}else propsChange&&(this.debug&&console.log("["+str(this)+"] updateProps",nextProps),this.updateProps(nextProps),this.dontTrigger||this.trigger("propschange")),stateChange&&(this.debug&&console.log("["+str(this)+"] updateState",nextState),this.updateState(nextState),this.dontTrigger||this.trigger("statechange"));return!0},WComponent.prototype.createEvent=function(type,data){var target=this.root&&this.root.firstChild;return{component:this,element:this.root,target:target,type:type,data:data}},WComponent.prototype.shouldBuildRoot=function(){if(this.internal)return!1;if(this.root)return!1;if(this.context){var ctxId=this.context.id;if(!ctxId&&ctxId==this.id)return!1}return!0},WComponent.prototype.buildRoot=function(tagName,inner,baseAttribs,classStyle,style,attributes,id){if(this.debug&&console.log("["+str(this)+"] buildRoot",tagName,inner,baseAttribs,classStyle,style,attributes,id),this.shouldBuildRoot())return this.debug&&console.log("["+str(this)+"] shouldBuildRoot() -> true"),this.build(tagName,inner,baseAttribs,classStyle,style,attributes,id);this.debug&&console.log("["+str(this)+"] shouldBuildRoot() -> false")},WComponent.prototype.build=function(tagName,inner,baseAttribs,classStyle,style,attributes,id){void 0===classStyle&&(classStyle=this._classStyle),void 0===style&&(style=this._style),void 0===attributes&&(attributes=this._attributes);var r="<"+(tagName=tagName||"div"),id=((id=void 0===id?this.id:id)&&(r+=' id="'+id+'"'),classStyle&&(r+=' class="'+classStyle+'"'),style&&(r+=' style="'+style+'"'),WUX.attributes(attributes)),classStyle=(id&&(r+=" "+id),WUX.attributes(baseAttribs)),style=(classStyle&&(r+=" "+classStyle),r+=">",divide(null==inner?this.make():inner));return r+=style[1],"input"==tagName?style[0]+r+style[2]:style[0]+(r+="</"+tagName+">")+style[2]},WComponent.prototype.make=function(){return""},WComponent.prototype.subId=function(id,s){var cid;return id instanceof WComponent?!(cid=id.id)||!this.id||0!=cid.indexOf(this.id+"-")?cid:cid.substring(this.id.length+1):(this.id&&"*"!=this.id||(this.id="w"+this.cuid),id&&"*"!=id||(id=(this.subSeq++).toString()),s||0==s?this.id+"-"+id+"-"+s:this.id+"-"+id)},WComponent.prototype.ripId=function(sid){return sid&&this.id&&0==sid.indexOf(this.id)&&sid.length>this.id.length+1?sid.substring(this.id.length+1):sid},WComponent.prototype.transferTo=function(dest,force,callback){return this.debug&&console.log("["+str(this)+"] transferTo "+str(dest)),!!dest&&(dest.setState(this.getState(),force,callback),!0)},WComponent}();function getId(e){if(e)return e instanceof Element||e instanceof WComponent?e.id:"string"==typeof e&&e.indexOf("<")<0?0==e.indexOf("#")?e.substring(1):e:"object"!=typeof e||e.id?"":""+e.id}function divide(s){if(!s)return["","",""];if(" "==s)return["","&nbsp;",""];var b=" "==s.charAt(0)?"&nbsp;":"",a=1<s.length&&" "==s.charAt(s.length-1)?"&nbsp;":"",ss=s.trim().split("<>");return!ss||ss.length<2?[b,s.trim(),a]:(b+=ss[0],2==ss.length?[b,ss[1],""]:(a+=ss[2],[b,ss[1],a]))}function str(a){var wcid,wcdn;return a instanceof WComponent?(wcdn=(wcdn=a.name)||"WComponent",(wcid=a.id)?wcdn+"("+wcid+")":wcdn):a instanceof Element?"Element#"+a.id:"object"==typeof a?JSON.stringify(a):a+""}function style(ws){var s="";return ws?"string"==typeof ws?ws.indexOf(":")<=0?"":";"!=ws.charAt(ws.length-1)?ws+";":ws:(ws.s&&(s+=css(ws.s)),ws.fs&&(s+="font-style:"+ws.fs+";"),ws.fw&&(s+="font-weight:"+ws.fw+";"),ws.tt&&(s+="text-transform:"+ws.tt+";"),ws.tr&&(s+="transform:"+ws.tr+";"),ws.fl&&(s+="float:"+ws.fl+";"),ws.cl&&(s+="clear:"+ws.cl+";"),ws.a&&(s+="text-align:"+ws.a+";"),ws.c&&(s+="color:"+ws.c+";"),ws.v&&(s+="vertical-align:"+ws.v+";"),ws.d&&(s+="display:"+ws.d+";"),ws.z&&(s+="z-index:"+ws.z+";"),ws.lh&&(s+="line-height:"+ws.lh+";"),ws.ps&&(s+="position:"+ws.ps+";"),ws.o&&(s+="overflow:"+ws.o+";"),ws.ox&&(s+="overflow-x:"+ws.ox+";"),ws.oy&&(s+="overflow-y:"+ws.oy+";"),null!=ws.op&&(s+="opacity:"+ws.op+";"),null!=ws.ol&&(s+="outline:"+ws.ol+";"),ws.cr&&(s+="cursor:"+ws.cr+";"),ws.cn&&(s+="content:"+ws.cn+";"),ws.k&&0<ws.k.indexOf(":")&&(s+="-"==ws.k.charAt(0)?"-webkit"+ws.k+";":"-webkit-"+ws.k+";"),ws.k&&0<ws.k.indexOf(":")&&(s+="-"==ws.k.charAt(0)?"-moz"+ws.k+";":"-moz-"+ws.k+";"),ws.k&&0<ws.k.indexOf(":")&&(s+="-"==ws.k.charAt(0)?"-o"+ws.k+";":"-o-"+ws.k+";"),ws.k&&0<ws.k.indexOf(":")&&(s+="-"==ws.k.charAt(0)?"-ms"+ws.k+";":"-ms-"+ws.k+";"),ws.bs&&(s+="box-shadow:"+ws.bs+";"),ws.bz&&(s+="box-sizing:"+ws.bz+";"),ws.b&&(s+=0<ws.b.indexOf(":")?css("border"+ws.b):ws.b.match(/^(|none|inherit|initial|unset)$/)||0<ws.b.indexOf(" ")?"border:"+ws.b+";":"border:1px solid "+ws.b+";"),ws.bc&&(s+="border-collapse:"+ws.bc+";"),null!=ws.br&&(s+="number"==typeof ws.br?"border-radius:"+ws.br+"px;":"border-radius:"+ws.br+";"),null!=ws.bsp&&(s+="number"==typeof ws.bsp?"border-spacing:"+ws.bsp+"px;":"border-spacing:"+ws.bsp+";"),null!=ws.m&&(s+="number"==typeof ws.m?"margin:"+ws.m+"px;":0<ws.m.indexOf(":")?css("margin"+ws.m):"margin:"+ws.m+";"),null!=ws.mt&&(s+="number"==typeof ws.mt?"margin-top:"+ws.mt+"px;":"margin-top:"+ws.mt+";"),null!=ws.mr&&(s+="number"==typeof ws.mr?"margin-right:"+ws.mr+"px;":"margin-right:"+ws.mr+";"),null!=ws.mb&&(s+="number"==typeof ws.mb?"margin-bottom:"+ws.mb+"px;":"margin-bottom:"+ws.mb+";"),null!=ws.ml&&(s+="number"==typeof ws.ml?"margin-left:"+ws.ml+"px;":"margin-left:"+ws.ml+";"),null!=ws.p&&(s+="number"==typeof ws.p?"padding:"+ws.p+"px;":0<ws.p.indexOf(":")?css("padding"+ws.p):"padding:"+ws.p+";"),null!=ws.pt&&(s+="number"==typeof ws.pt?"padding-top:"+ws.pt+"px;":"padding-top:"+ws.pt+";"),null!=ws.pr&&(s+="number"==typeof ws.pr?"padding-right:"+ws.pr+"px;":"padding-right:"+ws.pr+";"),null!=ws.pb&&(s+="number"==typeof ws.pb?"padding-bottom:"+ws.pb+"px;":"padding-bottom:"+ws.pb+";"),null!=ws.pl&&(s+="number"==typeof ws.pl?"padding-left:"+ws.pl+"px;":"padding-left:"+ws.pl+";"),null!=ws.f&&(s+="number"==typeof ws.f?"font-size:"+ws.f+"px;":0<ws.f.indexOf(":")?css("font"+ws.f):"font-size:"+ws.f+";"),ws.bg&&(s+=0<ws.bg.indexOf(":")?css("background"+ws.bg):0<=ws.bg.indexOf("url")?"background:"+ws.bg+";":"background-color:"+ws.bg+";"),ws.bgi&&(s+="background-image:"+ws.bgi+";"),ws.bgp&&(s+="background-position:"+ws.bgp+";"),ws.bgr&&(s+="background-repeat:"+ws.bgr+";"),ws.text&&(s+=0<ws.text.indexOf(":")?css("text"+ws.text):"text-decoration:"+ws.text+";"),null!=ws.l&&(s+="number"==typeof ws.l?"left:"+ws.l+"px;":"left:"+ws.l+";"),null!=ws.r&&(s+="number"==typeof ws.r?"right:"+ws.r+"px;":"right:"+ws.r+";"),null!=ws.t&&(s+="number"==typeof ws.t?"top:"+ws.t+"px;":"top:"+ws.t+";"),null!=ws.bt&&(s+="number"==typeof ws.bt?"bottom:"+ws.bt+"px;":"bottom:"+ws.bt+";"),ws.w&&(s+="number"==typeof ws.w?"width:"+ws.w+"px;":"width:"+ws.w+";"),ws.h&&(s+="number"==typeof ws.h?"height:"+ws.h+"px;":"height:"+ws.h+";"),ws.minw&&(s+="number"==typeof ws.minw?"min-width:"+ws.minw+"px;":"min-width:"+ws.minw+";"),ws.maxw&&(s+="number"==typeof ws.maxw?"max-width:"+ws.maxw+"px;":"max-width:"+ws.maxw+";"),ws.minh&&(s+="number"==typeof ws.minh?"min-height:"+ws.minh+"px;":"min-height:"+ws.minh+";"),ws.maxh&&(s+="number"==typeof ws.maxh?"max-height:"+ws.maxh+"px;":"max-height:"+ws.maxh+";"),ws.ws&&(s+="white-space:"+ws.ws+";"),s):s}function css(){for(var a=[],_i=0;_i<arguments.length;_i++)a[_i]=arguments[_i];if(!a||0==a.length)return"";for(var s="",x={},xi=!0,i=0;i<a.length;i++){var e=a[i];e&&("string"!=typeof e?(x=__assign(__assign({},x),e),xi=!1):(xi||(s+=style(x),x={},xi=!0),0<e.indexOf(":")&&(s+=e,";"!=e.charAt(e.length-1)&&(s+=";"))))}return xi||(s+=style(x)),s}function cls(){for(var a=[],_i=0;_i<arguments.length;_i++)a[_i]=arguments[_i];if(!a||!a.length)return"";for(var s="",i=0;i<a.length;i++){var e=a[i];e&&(!(e="string"==typeof e?e:e.n)||0<e.indexOf(":")||(s+=e+" "))}return s.trim()}function addClass(css,name){if(!css)return name;if(!name)return css;for(var _i=0,classes_1=css.split(" ");_i<classes_1.length;_i++)if(classes_1[_i]==name)return css;return css+" "+name}function removeClass(css,name){if(!css||!name)return css;for(var r="",_i=0,classes_2=css.split(" ");_i<classes_2.length;_i++){var c=classes_2[_i];c!=name&&(r+=c+" ")}return r.trim()}function toggleClass(css,name){if(!css)return name;if(!name)return css;for(var f=!1,r="",_i=0,classes_3=css.split(" ");_i<classes_3.length;_i++){var c=classes_3[_i];c==name?f=!0:r+=c+" "}return f?r.trim():r.trim()+" "+name}function addClassOf(e,name){e&&e.setAttribute("class",addClass(e.getAttribute("class"),name))}function removeClassOf(e,name){e&&e.getAttribute("class")&&e.setAttribute("class",removeClass(e.getAttribute("class"),name))}function toggleClassOf(e,name){e&&e.setAttribute("class",toggleClass(e.getAttribute("class"),name))}WUX.WComponent=WComponent,WUX.getId=getId,WUX.firstSub=function(e,r){if(!(e=getId(e)))return"";var s=e.indexOf("-");return s<0?e:r?e.substring(s+1):e.substring(0,s)},WUX.lastSub=function(e){if(!(e=getId(e)))return"";var s=e.lastIndexOf("-");return s<0?e:0<s&&"-"==e.charAt(s-1)?e.substring(s):e.substring(s+1)},WUX.getComponent=function(id){if(id)return WuxDOM.components[id]},WUX.getRootComponent=function getRootComponent(c){return c&&(c.parent?getRootComponent(c.parent):c)},WUX.setProps=function(id,p){if(id){id=WuxDOM.components[id];if(id)return id.setProps(p),id}},WUX.getProps=function(id,d){return!id||!(id=WuxDOM.components[id])||null==(id=id.getProps())?d:id},WUX.setState=function(id,s){if(id){id=WuxDOM.components[id];if(id)return id.setState(s),id}},WUX.getState=function(id,d){return!id||!(id=WuxDOM.components[id])||null==(id=id.getState())?d:id},WUX.newInstance=function(n){if(!n)return null;var s=n.lastIndexOf(".");if(0<s){var ns=n.substring(0,s);if(window[ns]){var i,c=n.substring(s+1);for(i in window[ns])if(i==c)return new window[ns][i];return null}}return(s=window[n])&&s.prototype?Object.create(s.prototype):null},WUX.same=function(e1,e2){return"string"==typeof e1&&"string"==typeof e2?e1==e2:"string"!=typeof e1&&"string"!=typeof e2&&(e1=getId(e1),e2=getId(e2),e1&&e2&&e1==e2)},WUX.match=function(i,o){return o?null==i?"string"==typeof o?""==o:!o.id:"object"==typeof i?"string"==typeof o?o==i.id:o.id==i.id:"string"==typeof o?o==i:o.id==i:!i},WUX.divide=divide,WUX.str=str,WUX.getTagName=function(c){if(!c)return"";var r;if(c instanceof WComponent){if(r=c.rootTag)return r.toLowerCase();var root=c.getRoot();return root?"":WUX.getTagName(root)}return c instanceof Element?c.tagName.toLowerCase():"<"==(root=""+c).charAt(0)?0<(c=(c=root.indexOf(" "))<0?root.indexOf(">"):c)?"/"==(r=root.substring(1,c).toLowerCase()).charAt(r.length-1)?r.substring(0,r.length-1):r:"":"#"==root.charAt(0)?WUX.getTagName(document.getElementById(root.substring(1))):WUX.getTagName(document.getElementById(root))},WUX.style=style,WUX.addStyle=function(s,k,v,n){return k&&v?s?n&&0<=s.indexOf(k+":")?css(s):css(s)+k+":"+v+";":k+":"+v+";":css(s)},WUX.css=css,WUX.cls=cls,WUX.attributes=function(a){if(!a)return"";if("string"==typeof a)return a;if("object"!=typeof a)return"";var k,r="";for(k in a)r+=k+'="'+a[k]+'" ';return r.trim()},WUX.buildCss=function(){for(var a=[],_i=0;_i<arguments.length;_i++)a[_i]=arguments[_i];if(!a||!a.length)return"";var c=cls.apply(void 0,a),s=css.apply(void 0,a),r="";return c&&(r+=' class="'+c+'"'),s&&(r+=' style="'+s+'"'),r},WUX.addClass=addClass,WUX.removeClass=removeClass,WUX.toggleClass=toggleClass,WUX.addClassOf=addClassOf,WUX.removeClassOf=removeClassOf,WUX.toggleClassOf=toggleClassOf,WUX.setCss=function(e){for(var s,c,a=[],_i=1;_i<arguments.length;_i++)a[_i-1]=arguments[_i];return e&&a&&a.length&&(e instanceof WComponent?e.css.apply(e,a):e instanceof Element&&(s=css.apply(void 0,a),(c=cls.apply(void 0,a))&&addClassOf(e,c),s&&e.setAttribute("style",style(s)))),e},WUX.buildIcon=function(icon,before,after,size,cls,title){if(!icon)return"";before=before||"",after=after||"";var s=WUX.CSS.ICON?' style="'+WUX.CSS.ICON+'"':"",title=title?' title="'+title+'"':"";return cls=cls?" "+cls:"",0<icon.indexOf(".")?before+'<img src="'+icon+'"'+title+s+">"+after:!size||size<2?before+'<i class="fa '+icon+cls+'"'+title+s+"></i>"+after:before+'<i class="fa '+icon+" fa-"+(size=5<size?5:size)+"x"+cls+'"'+title+s+"></i>"+after},WUX.build=function(tagName,inner,css,attributes,id,classStyle){tagName=tagName||"div","string"==typeof css?0<css.indexOf(":")?style=css:clsStyle=css:css&&(css.n&&(clsStyle=css.n),style=WUX.style(css)),classStyle&&(clsStyle?clsStyle+=" "+classStyle:clsStyle=classStyle);var clsStyle,style,css="<"+tagName;id&&(css+=' id="'+id+'"'),clsStyle&&(css+=' class="'+clsStyle+'"'),style&&(css+=' style="'+style+'"');(classStyle=WUX.attributes(attributes))&&(css+=" "+classStyle),css+=">",id=divide(inner);return css+=id[1],"input"==tagName?id[0]+css+id[2]:id[0]+(css+="</"+tagName+">")+id[2]};var WUtil=function(){function WUtil(){}return WUtil.toArray=function(a){if(null==(a=a instanceof WComponent?a.getState():a))return[];if(Array.isArray(a))return a;var r=[];return r.push(a),r},WUtil.toArrayNumber=function(a,nz){if(null==(a=a instanceof WComponent?a.getState():a))return[];var r=[];if(Array.isArray(a))for(var _i=0,a_1=a;_i<a_1.length;_i++){var e=a_1[_i],n=WUtil.toNumber(e);nz&&!n||r.push(n)}else{n=WUtil.toNumber(a);if(nz&&!n)return r;r.push(n)}return r},WUtil.toArrayString=function(a,ne){if(null==(a=a instanceof WComponent?a.getState():a))return[];var r=[];if(Array.isArray(a))for(var _i=0,a_2=a;_i<a_2.length;_i++){var e=a_2[_i],s=WUtil.toString(e);ne&&!s||r.push(s)}else{s=WUtil.toString(a);if(ne&&!s)return r;r.push(WUtil.toString(a))}return r},WUtil.splitNumbers=function(a,s){if(!a)return[];for(var r=[],_i=0,aos_1=WUtil.toString(a).split(s);_i<aos_1.length;_i++){var e=aos_1[_i];r.push(WUtil.toNumber(e))}return r},WUtil.toObject=function(a,d){return null!=(a=a instanceof WComponent?a.getState():a)&&"object"==typeof a?a:d},WUtil.toString=function(a,d){return void 0===d&&(d=""),null==(a=a instanceof WComponent?a.getState():a)?d:"string"==typeof a?a:a instanceof Date?WUX.formatDate(a):"object"==typeof a&&null!=a.id?WUtil.toString(a.id,d):Array.isArray(a)&&a.length?WUtil.toString(a[0],d):""+a},WUtil.toText=function(a,d){return WUtil.toString(a,d=void 0===d?"":d).replace("<","&lt;").replace(">","&gt;")},WUtil.toNumber=function(a,d){if(void 0===d&&(d=0),null==(a=a instanceof WComponent?a.getState():a))return d;if("number"==typeof a)return a;if(a instanceof Date)return 1e4*a.getFullYear()+100*(a.getMonth()+1)+a.getDate();if("object"==typeof a&&null!=a.id)return WUtil.toNumber(a.id,d);if(Array.isArray(a)&&a.length)return WUtil.toNumber(a[0],d);a=(""+a).trim(),a=((a=(a=0<=a.indexOf(".")&&0<=a.indexOf(",")?a.replace(".",""):a).replace(",",".")).indexOf(".")>=d?parseFloat:parseInt)(a);return isNaN(a)?d:a},WUtil.toInt=function(a,d){if(void 0===d&&(d=0),null==(a=a instanceof WComponent?a.getState():a))return d;if("number"==typeof a)return Math.floor(a);if(a instanceof Date)return 1e4*a.getFullYear()+100*(a.getMonth()+1)+a.getDate();if("object"==typeof a&&null!=a.id)return WUtil.toInt(a.id,d);if(Array.isArray(a)&&a.length)return WUtil.toInt(a[0],d);a=(""+a).replace(",","."),a=parseInt(a);return isNaN(a)?d:a},WUtil.toIntTime=function(a,d){if(void 0===d&&(d=0),null==(a=a instanceof WComponent?a.getState():a))return d;if(a instanceof Date)return 100*a.getHours()+a.getMinutes();if(Array.isArray(a)&&a.length)return WUtil.toIntTime(a[0],d);a=(""+a).replace(":","").replace(".","").replace(",",""),a=parseInt(a);return isNaN(a)?d:a},WUtil.isNumeric=function(a){return!isNaN(a)},WUtil.checkEmail=function(e){if(!e)return"";e=WUtil.toString(e);if(!e)return"";if(e.length<5)return"";var a=e.indexOf("@");return a<=0||e.lastIndexOf(".")<a?"":e.trim().toLowerCase()},WUtil.starts=function(a,s){return!(!a||null==s)&&0==WUtil.toString(a).indexOf(s)},WUtil.ends=function(a,s){if(!a||null==s)return!1;var a=WUtil.toString(a),i=a.lastIndexOf(s);return!(i<0)&&i==a.length-s.length},WUtil.isEmpty=function(a){if(!a)return!0;if(Array.isArray(a)&&!a.length)return!0;if("object"!=typeof a)return!1;for(var k in a)if(a.hasOwnProperty(k))return!1;return!0},WUtil.toBoolean=function(a,d){return void 0===d&&(d=!1),null==(a=a instanceof WComponent?a.getState():a)?d:"boolean"==typeof a?a:"string"==typeof a&&a.length?0<="1YyTtSs".indexOf(a.charAt(0)):!!d},WUtil.toDate=function(a,d){if(null==(a=a instanceof WComponent?a.getState():a))return d;if(a instanceof Date)return a;if("number"==typeof a)return a<10000101?d:new Date(a/1e4,a%1e4/100-1,a%1e4%100);if("string"!=typeof a)return d;if(a.length<8)return d;var sd=a.indexOf(",");return 3<(a=0<=sd?a.substring(sd+1):a).indexOf("-")?new Date(a.trim()):this.isNumeric(a)?(sd=parseInt(a))<10000101?d:new Date(sd/1e4,sd%1e4/100-1,sd%1e4%100):new Date(a.trim().replace(/(\d{1,2}).(\d{1,2}).(\d{4})/,"$3-$2-$1"))},WUtil.getWeek=function(a){var a=a instanceof Date?new Date(a.getTime()):WUtil.toDate(a),w1=((a=a||new Date).setHours(0,0,0,0),a.setDate(a.getDate()+3-(a.getDay()+6)%7),new Date(a.getFullYear(),0,4));return 1+Math.round(((a.getTime()-w1.getTime())/864e5-3+(w1.getDay()+6)%7)/7)},WUtil.getParam=function(name,url){url=url||window.location.href,name=name.replace(/[\[\]]/g,"\\$&");name=new RegExp("[?&]"+name+"(=([^&#]*)|&|#|$)").exec(url);return name&&name[2]?decodeURIComponent(name[2].replace(/\+/g," ")):""},WUtil.size=function(a){if(!a)return 0;if(Array.isArray(a))return a.length;if("object"!=typeof a)return 0;var k,r=0;for(k in a)a.hasOwnProperty(k)&&r++;return r},WUtil.setValue=function(a,k,v){return"object"==typeof a&&(a[k]=v),a},WUtil.getValue=function(a,k,d){return a&&k?Array.isArray(a)&&a.length?"-1"==k?WUtil.getLast(a,d):WUtil.isNumeric(k)?WUtil.getItem(a,WUtil.toInt(k),d):WUtil.getValue(a[0],k,d):"object"==typeof a?(sep=k.indexOf("."),null==a[k]&&0<sep?null==a[sub=k.substring(0,sep)]?d:WUtil.getValue(a[sub],k.substring(sep+1),d):null==a[k]?d:a[k]):d:d;var sep,sub},WUtil.getItem=function(a,i,d){return i<0||!(Array.isArray(a)&&a.length>i&&null!=(r=a[i]))?d:r;var r},WUtil.getFirst=function(a,d){return!(Array.isArray(a)&&0<a.length&&null!=(a=a[0]))?d:a},WUtil.getLast=function(a,d){return!(Array.isArray(a)&&0<a.length&&null!=(a=a[a.length-1]))?d:a},WUtil.getNumber=function(a,k,d){return WUtil.toNumber(WUtil.getValue(a,k,d))},WUtil.getInt=function(a,k,d){return WUtil.toInt(WUtil.getValue(a,k,d))},WUtil.getString=function(a,k,d,f){a=WUtil.getValue(a,k);return null==a?d:f?"?"==f?"number"==typeof a?WUX.formatNum(a):WUtil.toString(a):"c"==f?WUX.formatCurr(a):"c5"==f?WUX.formatCurr5(a):"n"==f?WUX.formatNum(a):"n2"==f?WUX.formatNum2(a):"m"==f?WUX.formatMonth(a):"d"==f?WUX.formatDate(a):"dt"==f?WUX.formatDateTime(a):"t"==f?WUX.formatTime(a):WUtil.toString(a):WUtil.toString(a)},WUtil.getText=function(a,k,d){return WUtil.toText(WUtil.getValue(a,k,d))},WUtil.getBoolean=function(a,k,d){return WUtil.toBoolean(WUtil.getValue(a,k,d))},WUtil.getDate=function(a,k,d){return WUtil.toDate(WUtil.getValue(a,k,d))},WUtil.getArray=function(a,k){return WUtil.toArray(WUtil.getValue(a,k))},WUtil.getArrayNumber=function(a,k,nz){return WUtil.toArrayNumber(WUtil.getValue(a,k),nz)},WUtil.getArrayString=function(a,k,ne){return WUtil.toArrayString(WUtil.getValue(a,k),ne)},WUtil.getObject=function(a,k,n){a=WUtil.toObject(WUtil.getValue(a,k));return!a&&n?{}:a},WUtil.sort=function(a,t,k){if(void 0===t&&(t=!0),!a)return[];a=WUtil.toArray(a);if(!k)return r_1=a.sort(),t?r_1:r_1.reverse();var r_1=a.sort(function(a,b){a=WUtil.getValue(a,k),b=WUtil.getValue(b,k);return a<b?-1:b<a?1:0});return t?r_1:r_1.reverse()},WUtil.find=function(a,k,v){if(!a||!k)return null;for(var _i=0,y_1=WUtil.toArray(a);_i<y_1.length;_i++){var i=y_1[_i],w=WUtil.getValue(i,k);if(w instanceof Date&&v instanceof Date&&w.getTime()==v.getTime())return i;if(w==v)return i}return null},WUtil.indexOf=function(a,k,v){if(!a||!k)return-1;for(var y=WUtil.toArray(a),i=0;i<y.length;i++){var w=WUtil.getValue(y[i],k);if(w instanceof Date&&v instanceof Date&&w.getTime()==v.getTime())return i;if(w==v)return i}return-1},WUtil.isSameDate=function(a,b){return this.toNumber(a)==this.toNumber(b)},WUtil.indexOfDate=function(a,v){if(!a||!v)return-1;for(var vi=WUtil.toNumber(v),i=0;i<a.length;i++)if(a[i]&&WUtil.toNumber(a[i])==vi)return i;return-1},WUtil.round2=function(a){if(null==a)return 0;a=WUtil.toNumber(a);return Math.round(100*a)/100},WUtil.floor2=function(a){if(null==a)return 0;a=WUtil.toNumber(a);return Math.floor(100*a)/100},WUtil.ceil2=function(a){if(null==a)return 0;a=WUtil.toNumber(a);return Math.ceil(100*a)/100},WUtil.compare2=function(a,b){if(!a&&!b)return 0;a=Math.round(100*WUtil.toNumber(a)),b=Math.round(100*WUtil.toNumber(b));return a==b?0:b<a?1:-1},WUtil.compare5=function(a,b){if(!a&&!b)return 0;a=Math.round(1e4*WUtil.toNumber(a)),b=Math.round(1e4*WUtil.toNumber(b));return a==b?0:b<a?1:-1},WUtil.getCurrDate=function(d,m,y,f,l){var r=new Date;return r.setHours(0,0,0,0),d&&r.setDate(r.getDate()+d),m&&r.setMonth(r.getMonth()+m),y&&r.setFullYear(r.getFullYear()+y),f&&r.setDate(1),l&&(r.setMonth(r.getMonth()+1),r.setDate(0)),r},WUtil.calcDate=function(r,d,m,y,f,l){return(r=r?new Date(r.getTime()):new Date).setHours(0,0,0,0),d&&r.setDate(r.getDate()+d),m&&r.setMonth(r.getMonth()+m),y&&r.setFullYear(r.getFullYear()+y),f&&r.setDate(1),l&&(r.setMonth(r.getMonth()+1),r.setDate(0)),r},WUtil.timestamp=function(dt){var dt=dt?WUtil.toDate(dt):new Date,sy=""+(dt=dt||new Date).getFullYear(),nm=dt.getMonth()+1,nm=nm<10?"0"+nm:""+nm,nd=dt.getDate(),nd=nd<10?"0"+nd:""+nd,nh=dt.getHours(),nh=nh<10?"0"+nh:""+nh,np=dt.getMinutes(),np=np<10?"0"+np:""+np,dt=dt.getSeconds();return sy+nm+nd+nh+np+(dt<10?"0"+dt:""+dt)},WUtil.nvl=function(){for(var v=[],_i=0;_i<arguments.length;_i++)v[_i]=arguments[_i];if(v){for(var _a=0,v_1=v;_a<v_1.length;_a++){var e=v_1[_a];if(!e)return e}return v[0]}},WUtil.eqValues=function(o1,o2){for(var keys=[],_i=2;_i<arguments.length;_i++)keys[_i-2]=arguments[_i];if(!o1&&!o2)return!0;if(!o1||!o2)return!1;for(var _a=0,keys_1=keys;_a<keys_1.length;_a++){var k=keys_1[_a];if(o1[k]!=o2[k])return!1}return!0},WUtil.col=function(tuples,i,d){var r=[];if(!tuples||!tuples.length)return r;for(var _i=0,tuples_1=tuples;_i<tuples_1.length;_i++){var e=tuples_1[_i];r.push(WUtil.getItem(e,i,d))}return r},WUtil.getSortedKeys=function(map){if(!map)return[];var key,r=[];for(key in map)map.hasOwnProperty(key)&&r.push(key);return r.sort()},WUtil.diffMinutes=function(ah,al){ah=WUtil.toDate(ah),al=WUtil.toDate(al),ah=ah||new Date,al=al||new Date;return(ah.getTime()-al.getTime())/6e4},WUtil.diffHours=function(ah,al){ah=WUtil.toDate(ah),al=WUtil.toDate(al),ah=ah||new Date,al=al||new Date;return(ah.getTime()-al.getTime())/36e5},WUtil.diffDays=function(ah,al){ah=WUtil.toDate(ah),al=WUtil.toDate(al),ah=ah||new Date,al=al||new Date,ah=ah.getTime()-al.getTime(),al=ah/864e5;return 12<ah%864e5/6e4&&al++,al},WUtil}();WUX.WUtil=WUtil}(WUX=WUX||{}),!function(WUX){var _data={},_dccb={},CSS=(WUX.global={locale:"it",init:function(callback){WUX.debug&&console.log("[WUX] global.init..."),WUX.init0?WUX.initApp?WUX.init0(function(){return WUX.initApp(callback)}):WUX.init0(callback):WUX.initApp?WUX.initApp(callback):callback&&callback()},setData:function(key,data,dontTrigger){if(void 0===dontTrigger&&(dontTrigger=!1),_data[key=key||"global"]=data,!dontTrigger&&_dccb[key])for(var _i=0,_a=_dccb[key];_i<_a.length;_i++)(0,_a[_i])(data)},getData:function(key,def){key=_data[key=key||"global"];return null==key?def:key},onDataChanged:function(key,callback){_dccb[key=key||"global"]||(_dccb[key]=[]),_dccb[key].push(callback)}},function(){function CSS(){}return CSS.FORM="padding-top:16px;",CSS.FORM_GROUP="form-group",CSS.LBL_CLASS="active",CSS.SEL_WRAPPER="select-wrapper",CSS.FORM_CTRL="form-control",CSS.FORM_CHECK="form-check form-check-inline",CSS.CHECK_STYLE="padding-top:1rem;",CSS.LEVER_STYLE="",CSS.ICON="margin-right:8px;",CSS.SEL_ROW="primary-bg-a2",CSS.PRIMARY={bg:"#b8d4f1"},CSS.SECONDARY={bg:"#d1d7dc"},CSS.SUCCESS={bg:"#b8ddd0"},CSS.DANGER={bg:"#f4c7ce"},CSS.WARNING={bg:"#e6d3b8"},CSS.INFO={bg:"#e2e2e2"},CSS.LIGHT={bg:"#f9f8fb"},CSS}()),CSS=(WUX.CSS=CSS,function(){function RES(){}return RES.OK="OK",RES.CLOSE="Chiudi",RES.CANCEL="Annulla",RES}());WUX.RES=CSS,WUX.formatDate=function(a,withDay,e){if(void 0===withDay&&(withDay=!1),void 0===e&&(e=!1),!a)return"";if(!(a=WUX.WUtil.toDate(a)))return"";var m=(m=a.getMonth()+1)<10?"0"+m:""+m,sd=a.getDate()<10?"0"+a.getDate():""+a.getDate();return withDay?WUX.formatDay(a.getDay(),e)+", "+sd+"/"+m+"/"+a.getFullYear():sd+"/"+m+"/"+a.getFullYear()},WUX.isoDate=function(a){if(!a)return"";if(!(a=WUX.WUtil.toDate(a)))return"";var m=(m=a.getMonth()+1)<10?"0"+m:""+m,sd=a.getDate()<10?"0"+a.getDate():""+a.getDate();return a.getFullYear()+"-"+m+"-"+sd},WUX.formatDateTime=function(a,withSec,withDay,e){if(void 0===withSec&&(withSec=!1),void 0===withDay&&(withDay=!1),void 0===e&&(e=!1),!a)return"";if(!(a=WUX.WUtil.toDate(a)))return"";var m=(m=a.getMonth()+1)<10?"0"+m:""+m,sd=a.getDate()<10?"0"+a.getDate():""+a.getDate(),sh=a.getHours()<10?"0"+a.getHours():""+a.getHours(),sp=a.getMinutes()<10?"0"+a.getMinutes():""+a.getMinutes();return withSec?(withSec=a.getSeconds()<10?"0"+a.getSeconds():""+a.getSeconds(),withDay?WUX.formatDay(a.getDay(),e)+", "+sd+"/"+m+"/"+a.getFullYear()+" "+sh+":"+sp+":"+withSec:sd+"/"+m+"/"+a.getFullYear()+" "+sh+":"+sp+":"+withSec):withDay?WUX.formatDay(a.getDay(),e)+", "+sd+"/"+m+"/"+a.getFullYear()+" "+sh+":"+sp:sd+"/"+m+"/"+a.getFullYear()+" "+sh+":"+sp},WUX.formatTime=function formatTime(a,withSec){return void 0===withSec&&(withSec=!1),null==a?"":"number"==typeof a?withSec?(a<1e4&&(a*=100),is=a%1e4%100,Math.floor(a/1e4)+":"+((mm=Math.floor(a%1e4/100))<10?"0"+mm:""+mm)+":"+(is<10?"0"+is:""+is)):(9999<a&&(a=Math.floor(a/100)),Math.floor(a/100)+":"+((mm=a%100)<10?"0"+mm:""+mm)):"string"==typeof a?(0<=(is=(is=(is=(a=0<=(is=(is=a.indexOf("T"))<0?a.indexOf(" "):is)?a.substring(is+1):a).indexOf("+"))<0?a.indexOf("-"):is)<0?a.indexOf("Z"):is)&&(a=a.substring(0,is)),formatTime(parseInt(a.replace(":","").replace(".","")))):a instanceof Date?(mm=a.getHours()<10?"0"+a.getHours():""+a.getHours(),is=a.getMinutes()<10?"0"+a.getMinutes():""+a.getMinutes(),withSec?mm+":"+is+":"+(a.getSeconds()<10?"0"+a.getSeconds():""+a.getSeconds()):mm+":"+is):"";var mm,is},WUX.formatNum2=function(a,nz,z,neg){if(""===a||null==a)return"";var a=WUX.WUtil.toNumber(a),r=(""+Math.round(100*a)/100).replace(".",",");return null!=nz&&0!=a?(null!=neg&&a<0?neg:nz).replace("$",r):null!=z&&0==a?z.replace("$",r):r},WUX.formatNum=function(a,nz,z,neg){if(""===a||null==a)return"";var r=(""+(a=WUX.WUtil.toNumber(a))).replace(".",",");return null!=nz&&0!=a?null!=neg&&a<0?"l"==neg?a.toLocaleString("it-IT"):neg.replace("$",r):"l"==nz?a.toLocaleString("it-IT"):nz.replace("$",r):null!=z&&0==a?z.replace("$",r):r},WUX.formatCurr=function(a,nz,z,neg){if(""===a||null==a)return"";var a=WUX.WUtil.toNumber(a),r=(Math.round(100*a)/100).toLocaleString("it-IT"),d=r.indexOf(",");return d<0&&(r+=",00"),d==r.length-2&&(r+="0"),null!=nz&&0!=a?(null!=neg&&a<0?neg:nz).replace("$",r):null!=z&&0==a?z.replace("$",r):r},WUX.formatCurr5=function(a,nz,z,neg){if(""===a||null==a)return"";var a=WUX.WUtil.toNumber(a),r=(""+Math.round(1e5*a)/1e5).replace(".",",");if((d=r.indexOf(","))<0&&(r+=",00"),d==r.length-2&&(r+="0"),0<d){for(var s1=r.substring(0,d),d=r.substring(d),s3="",i=1;i<=s1.length;i++)3<i&&(i-1)%3==0&&(s3="."+s3),s3=s1.charAt(s1.length-i)+s3;r=s3+d}return null!=nz&&0!=a?(null!=neg&&a<0?neg:nz).replace("$",r):null!=z&&0==a?z.replace("$",r):r},WUX.formatBoolean=function(a){return null==a?"":a?"S":"N"},WUX.format=function(a){return null==a?"":"string"==typeof a?a:"boolean"==typeof a?WUX.formatBoolean(a):"number"==typeof a?0<=(""+a).indexOf(".")?WUX.formatCurr(a):WUX.formatNum(a):a instanceof Date?WUX.formatDate(a):a instanceof WUX.WComponent?WUX.format(a.getState()):""+a},WUX.formatDay=function(d,e){switch(d){case 0:return e?"Domenica":"Dom";case 1:return e?"Luned&igrave;":"Lun";case 2:return e?"Marted&igrave;":"Mar";case 3:return e?"Mercoled&igrave;":"Mer";case 4:return e?"Giove&igrave;":"Gio";case 5:return e?"Venerd&igrave;":"Ven";case 6:return e?"Sabato":"Sab"}return""},WUX.formatMonth=function(m,e,y){switch(100<m&&(y=Math.floor(m/100),m%=100),y=y?" "+y:"",m){case 1:return e?"Gennaio"+y:"Gen"+y;case 2:return e?"Febbraio"+y:"Feb"+y;case 3:return e?"Marzo"+y:"Mar"+y;case 4:return e?"Aprile"+y:"Apr"+y;case 5:return e?"Maggio"+y:"Mag"+y;case 6:return e?"Giugno"+y:"Giu"+y;case 7:return e?"Luglio"+y:"Lug"+y;case 8:return e?"Agosto"+y:"Ago"+y;case 9:return e?"Settembre"+y:"Set"+y;case 10:return e?"Ottobre"+y:"Ott"+y;case 11:return e?"Novembre"+y:"Nov"+y;case 12:return e?"Dicembre"+y:"Dic"+y}return""},WUX.saveFile=function(base64,fileName,mimeType){void 0===mimeType&&(mimeType="application/octet-stream");for(var ab=atob(base64),an=new Array(ab.length),i=0;i<ab.length;i++)an[i]=ab.charCodeAt(i);base64=new Uint8Array(an),base64=new Blob([base64],{type:mimeType}),(mimeType=document.createElement("a")).href=URL.createObjectURL(base64),mimeType.download=fileName,mimeType.click()},WUX.viewFile=function(base64,fileName,mimeType){void 0===mimeType&&(mimeType="application/octet-stream");for(var ab=atob(base64),an=new Array(ab.length),i=0;i<ab.length;i++)an[i]=ab.charCodeAt(i);var base64=new Uint8Array(an),base64=new Blob([base64],{type:mimeType}),url=URL.createObjectURL(base64);(mimeType=document.createElement("a")).href=url,mimeType.target="_blank",mimeType.rel="noopener noreferrer",mimeType.title=fileName,mimeType.click(),setTimeout(function(){URL.revokeObjectURL(url)},1e3)},WUX.getAction=function getAction(ie,c,tag){if(!ie)return null;if("string"==typeof ie){if(!(s=WUX.lastSub(ie)))return null;var x=s.indexOf("_");if(x<=0)return null;var n=s.substring(0,x),s=s.substring(x+1).replace(/\$/g,"-");return tag=tag&&tag.toLowerCase(),{name:n,ref:s,idx:WUX.WUtil.toNumber(s,-1),tag:tag,comp:c}}x=ie.target;if(!x)return null;if(!(n=x.tagName))return null;if(tag&&tag.toLowerCase()!=n.toLowerCase())return null;s=WUX.getId(x);if(s&&(ie=getAction(s,c,n)))return ie;ie=x.parentElement;if(ie){if(!(n=ie.tagName))return null;if(tag&&tag.toLowerCase()!=n.toLowerCase())return null}return getAction(s=WUX.getId(ie),c,n)},WUX.action=function(name,ref,ele,comp,inner,cls){return"string"==typeof ref&&(ref=ref.replace(/\-/g,"$")),ele=ele||"a",comp=comp?comp.subId(name+"_"+ref):name+"_"+ref,0<ele.indexOf("-")?'<i id="'+comp+'" class="fa '+ele+'" style="cursor:pointer;width:100%;"></i>':(inner=inner||"",cls?0<cls.indexOf(":")?"<"+ele+' id="'+comp+'" style="'+cls+'">'+inner+"</"+ele+">":"<"+ele+' id="'+comp+'" class="'+cls+'">'+inner+"</"+ele+">":"<"+ele+' id="'+comp+'" style="cursor:pointer;">'+inner+"</"+ele+">")}}(WUX=WUX||{}),this&&this.__extends||function(){var extendStatics=function(d,b){return(extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)Object.prototype.hasOwnProperty.call(b,p)&&(d[p]=b[p])})(d,b)};return function(d,b){if("function"!=typeof b&&null!==b)throw new TypeError("Class extends value "+String(b)+" is not a constructor or null");function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)}}());!function(WUX){var Wrapp=function(_super){function Wrapp(props,tag,id,classStyle,style,attributes){id=_super.call(this,id,"Wrapp",props,classStyle,style,attributes)||this;return tag&&(id.rootTag=tag),id}return __extends(Wrapp,_super),Wrapp.prototype.render=function(){return this.isText=!1,"string"==typeof this.props&&(!this.props||this.props.indexOf("<")<0)?(this.isText=!0,this.buildRoot(this.rootTag,this.props)):this.props},Wrapp.prototype.componentDidMount=function(){this.root&&!this.isText&&(this.rootTag=this.root.tagName,this.id=this.root.getAttribute("id"),this._classStyle=this.root.getAttribute("class"),this._style=this.root.getAttribute("style"))},Wrapp}(WUX.WComponent),WContainer=(WUX.Wrapp=Wrapp,function(_super){function WContainer(id,classStyle,style,attributes,inline,type){id=_super.call(this,id||"*","WContainer",type,classStyle,WUX.style(style),attributes)||this;return id.cbef=[],id.ashe=[],id.cbgr=[],id.comp=[],id.sr_c=[],id.grid=[],id._end=!1,id.cagr=[],id.asta=[],id.caft=[],id.rootTag=inline?"span":"div",id}return __extends(WContainer,_super),WContainer.prototype.addRow=function(classStyle,style){null==classStyle&&(classStyle="row");var g=[],style=WUX.style(style);return style&&(classStyle+="^"+style),g.push(classStyle),this.grid.push(g),this},WContainer.prototype.addCol=function(classStyle,style){classStyle=classStyle||"col-12",isNaN(parseInt(classStyle))||(classStyle="col-"+classStyle),this.grid.length||this.addRow();var g=this.grid[this.grid.length-1],style=WUX.style(style);return style&&(classStyle+="^"+style),g.push(classStyle),this},WContainer.prototype.head=function(){for(var _a,items=[],_i=0;_i<arguments.length;_i++)items[_i]=arguments[_i];return items&&(_a=this.ashe).push.apply(_a,items),this},WContainer.prototype.tail=function(){for(var _a,items=[],_i=0;_i<arguments.length;_i++)items[_i]=arguments[_i];return items&&(_a=this.asta).push.apply(_a,items),this},WContainer.prototype.before=function(){for(var items=[],_i=0;_i<arguments.length;_i++)items[_i]=arguments[_i];if(!items)return this;for(var _a=0,items_1=items;_a<items_1.length;_a++){var e=items_1[_a];e&&("string"==typeof e||e instanceof Element?this.cbef.push(new Wrapp(e)):this.cbef.push(e))}return this},WContainer.prototype.after=function(){for(var items=[],_i=0;_i<arguments.length;_i++)items[_i]=arguments[_i];if(!items)return this;for(var _a=0,items_2=items;_a<items_2.length;_a++){var e=items_2[_a];e&&("string"==typeof e||e instanceof Element?this.caft.push(new Wrapp(e)):this.caft.push(e))}return this},WContainer.prototype.add=function(e){if(!e)return this;if("string"==typeof e)return this.add(new Wrapp(e)),this;if(e instanceof Element)return this.add(new Wrapp(e)),this;if(e.parent||(e.parent=this),this.mounted)return e.mount(this.root),this;var c,l=this.grid.length;return this._end?this.cagr.push(e):l?(c=this.grid[l=l-1].length-1,this.comp.push(e),this.sr_c.push(this.subId(l+"_"+c))):this.cbgr.push(e),this},WContainer.prototype.addGroup=function(w){for(var ac=[],_i=1;_i<arguments.length;_i++)ac[_i-1]=arguments[_i];if(w){var cnt=this.addContainer(w);if(!ac||!ac.length)return this;for(var _a=0,ac_1=ac;_a<ac_1.length;_a++)(c=ac_1[_a])&&cnt.add(c);return this}if(!ac||!ac.length)return this;for(var c,_b=0,ac_2=ac;_b<ac_2.length;_b++)(c=ac_2[_b])&&this.add(c);return this},WContainer.prototype.addLine=function(style){for(var ac=[],_i=1;_i<arguments.length;_i++)ac[_i-1]=arguments[_i];var w=new WContainer;if(w.addRow(),ac){var n="1";"string"!=typeof style&&(n=(n=style.n)||"1");for(var _a=0,ac_3=ac;_a<ac_3.length;_a++){var c=ac_3[_a];c&&w.addCol(n,style).add(c)}}return this.add(w),this},WContainer.prototype.addStack=function(style){for(var ac=[],_i=1;_i<arguments.length;_i++)ac[_i-1]=arguments[_i];var w=new WContainer;if(ac){var n="12";"string"!=typeof style&&(n=(n=style.n)||"12");for(var _a=0,ac_4=ac;_a<ac_4.length;_a++){var c=ac_4[_a];c&&w.addRow().addCol(n,style).add(c)}}return this.add(w),this},WContainer.prototype.addContainer=function(c_w_i,cls,style,attributes,inline,type){var c;return"string"==typeof c_w_i?(c=new WContainer(c_w_i,cls,style,attributes,inline,type),this.add(c)):c_w_i instanceof WContainer?(c_w_i.parent=this).add(c_w_i):(c=new WContainer,c_w_i&&(c.classStyle=WUX.cls(c_w_i.classStyle,c_w_i.style),c.style=WUX.style(c_w_i.style),c.attributes=c_w_i.attributes),this.add(c)),c},WContainer.prototype.addDiv=function(hcss,inner,cls_att,id){var d;if("number"==typeof hcss){if(hcss<1)return this;d=WUX.build("div",inner,{h:hcss,n:cls_att})}else d=WUX.build("div",inner,hcss,cls_att,id);return this.add(d)},WContainer.prototype.end=function(){return this.parent instanceof WContainer?this.parent.end():(this._end=!0,this)},WContainer.prototype.componentWillMount=function(){for(var _i=0,_a=this.cbef;_i<_a.length;_i++)_a[_i].mount(this.context)},WContainer.prototype.render=function(){for(var inner="",_i=0,_a=this.ashe;_i<_a.length;_i++)inner+=_a[_i];var l=this.grid.length;if(l){this.cbgr.length&&(inner+='<div id="'+this.subId("bg")+'"></div>');for(var r=0;r<l;r++){var g=this.grid[r],cl=g.length;if(cl){inner+="<div "+this.cs(g[0])+' id="'+this.subId(r+"_0")+'">';for(var c=1;c<cl;c++)inner+='<div id="'+this.subId(r+"_"+c)+'" '+this.cs(g[c])+"></div>";inner+="</div>"}}}for(var _b=0,_c=this.asta;_b<_c.length;_b++)inner+=_c[_b];return this.buildRoot(this.rootTag,inner)},WContainer.prototype.componentDidMount=function(){var bg=document.getElementById(this.subId("bg"));if(bg)for(var _i=0,_a=this.cbgr;_i<_a.length;_i++)(c=_a[_i]).mount(bg);else for(var _b=0,_c=this.cbgr;_b<_c.length;_b++)(c=_c[_b]).mount(this.root);for(var i=0;i<this.comp.length;i++){var c=this.comp[i];(e=document.getElementById(this.sr_c[i]))&&c.mount(e)}for(var _d=0,_e=this.cagr;_d<_e.length;_d++)(c=_e[_d]).mount(this.root);for(var e,_f=0,_g=this.caft;_f<_g.length;_f++)(e=_g[_f]).mount(this.context)},WContainer.prototype.componentWillUnmount=function(){for(var _i=0,_a=this.caft;_i<_a.length;_i++)_a[_i].unmount();for(var _b=0,_c=this.cagr;_b<_c.length;_b++)_c[_b].unmount();for(var _d=0,_e=this.comp;_d<_e.length;_d++)_e[_d].unmount();for(var _f=0,_g=this.cbgr;_f<_g.length;_f++)_g[_f].unmount();for(var _h=0,_j=this.cbef;_h<_j.length;_h++)_j[_h].unmount()},WContainer.prototype.cs=function(cs){if(!cs)return"";var x=cs.indexOf("^");return x<0?'class="'+cs+'"':'class="'+cs.substring(0,x)+'" style="'+cs.substring(x+1)+'"'},WContainer.prototype.getElement=function(r,c){if(!this.grid||!this.grid.length)return null;if(r<0&&(r=this.grid.length+r)<0&&(r=0),this.grid.length<=r)return null;if(null==c)return document.getElementById(this.subId(r+"_0"));var g=this.grid[r];return!g||g.length<2?null:(c<0&&(c=g.length-1+c)<0&&(c=0),c++,document.getElementById(this.subId(r+"_"+c)))},WContainer}(WUX.WComponent)),WPages=(WUX.WContainer=WContainer,function(_super){function WPages(id,classStyle,style,attributes,props){id=_super.call(this,id||"*","WPages",props,classStyle,style,attributes)||this;return id.sp=0,id.components=[],id}return __extends(WPages,_super),Object.defineProperty(WPages.prototype,"pages",{get:function(){return this.components?this.components.length:0},enumerable:!1,configurable:!0}),WPages.prototype.add=function(c){return c&&(c instanceof WUX.WDialog?c.addToPages(this):this.components.push(c)),this},WPages.prototype.addContainer=function(cid,cls,style,attributes,inline,type){cid=new WContainer(cid,cls,style,attributes,inline,type);return this.add(cid),cid},WPages.prototype.before=function(c){return this.cbef=c,this},WPages.prototype.after=function(c){return this.caft=c,this},WPages.prototype.first=function(){return this.setState(0),this},WPages.prototype.last=function(){return this.setState(this.components.length-1),this},WPages.prototype.back=function(){return this.setState(this.sp),this},WPages.prototype.next=function(){var l=this.components.length;if(!l)return!1;var s=(s=this.state)||0;return!(l<=++s)&&(this.setState(s),!0)},WPages.prototype.prev=function(){if(!this.components.length)return!1;var s=(s=this.state)||0;return!(--s<0)&&(this.setState(s),!0)},WPages.prototype.show=function(p,before,after,t){void 0===t&&(t=0);var l=this.components.length;if(!l)return null;if(l<=(p=(p=(p=p||0)<0?l+p:p)<0?0:p))return null;var c=this.components[p];return c?(before&&before(c),this.setState(p),after&&setTimeout(function(){return after(c)},t),c):null},WPages.prototype.curr=function(){var l=this.components.length,i=this.state;return 0<=i&&i<l?this.components[i]:null},WPages.prototype.render=function(){var l=this.components.length,r=(this.state||(this.state=0),this.state<0&&(this.state=l+this.state),this.state<0&&(this.state=0),this.sp=this.state,"<div");r+=' id="'+this.id+'"',this._classStyle&&(r+=' class="'+this._classStyle+'"'),this._style&&(r+=' style="'+this._style+'"'),this._attributes&&(r+=" "+this._attributes),r+=">",this.cbef&&(r+='<div id="'+this.id+'-b""></div>');for(var i=0;i<l;i++)i==this.state?r+='<div id="'+this.id+"-"+i+'" style="display:block;"></div>':r+='<div id="'+this.id+"-"+i+'" style="display:none;"></div>';return this.caft&&(r+='<div id="'+this.id+'-a""></div>'),r+="</div>"},WPages.prototype.updateState=function(nextState){this.sp=this.state,this.state=nextState;var l=this.components.length;if(this.state||(this.state=0),this.state<0&&(this.state=l+this.state),this.state<0&&(this.state=0),this.mounted)for(var i=0;i<l;i++){var e=document.getElementById(this.id+"-"+i);e&&(e.style.display=i==this.state?"block":"none")}},WPages.prototype.componentDidMount=function(){this.cbef&&(b=document.getElementById(this.id+"-b"))&&this.cbef.mount(b);for(var b,l=this.components.length,i=0;i<l;i++){var c=this.components[i],e=document.getElementById(this.id+"-"+i);e&&c.mount(e)}this.caft&&(b=document.getElementById(this.id+"-a"))&&this.caft.mount(b)},WPages.prototype.componentWillUnmount=function(){this.cbef&&this.cbef.unmount();for(var _i=0,_a=this.components;_i<_a.length;_i++){var c=_a[_i];c&&c.unmount()}this.caft&&this.caft.unmount()},WPages}(WUX.WComponent)),WPages=(WUX.WPages=WPages,function(_super){function WLink(id,text,icon,classStyle,style,attributes,href,target){id=_super.call(this,id||"*","WLink",icon,classStyle,style,attributes)||this;return id.updateState(text),id.rootTag="a",id._href=href,id._target=target,id}return __extends(WLink,_super),Object.defineProperty(WLink.prototype,"icon",{get:function(){return this.props},set:function(s){this.update(s,this.state,!0,!1,!1)},enumerable:!1,configurable:!0}),Object.defineProperty(WLink.prototype,"href",{get:function(){return this._href},set:function(s){this._href=s,this.root&&(s?this.root.setAttribute("href",s):this.root.removeAttribute("href"))},enumerable:!1,configurable:!0}),Object.defineProperty(WLink.prototype,"target",{get:function(){return this._target},set:function(s){this._target=s,this.root&&(s?this.root.setAttribute("target",s):this.root.removeAttribute("target"))},enumerable:!1,configurable:!0}),WLink.prototype.render=function(){var addAttributes="",html=(this._href&&(addAttributes+='href="'+this._href+'"'),this._target&&(addAttributes&&(addAttributes+=" "),addAttributes+='target="'+this._target+'"'),"");return this.state?html+=WUX.buildIcon(this.icon,""," ")+this.state:html+=WUX.buildIcon(this.icon),this.build(this.rootTag,html,addAttributes)},WLink.prototype.componentDidMount=function(){this._tooltip&&this.root.setAttribute("title",this._tooltip)},WLink.prototype.componentWillUpdate=function(nextProps,nextState){var html="";html+=nextState?WUX.buildIcon(this.icon,""," ")+nextState:WUX.buildIcon(this.icon),this.root.innerHTML=html},WLink}(WUX.WComponent)),WLabel=(WUX.WLink=WPages,function(_super){function WLabel(id,text,icon,classStyle,style,attributes){id=_super.call(this,id||"*","WLabel",icon,classStyle,style,attributes)||this;return id.rootTag="span",id.updateState(text),id}return __extends(WLabel,_super),Object.defineProperty(WLabel.prototype,"icon",{get:function(){return this.props},set:function(i){this.update(i,this.state,!0,!1,!1)},enumerable:!1,configurable:!0}),WLabel.prototype.updateState=function(nextState){_super.prototype.updateState.call(this,nextState=nextState||""),this.root&&(this.root.innerHTML=WUX.buildIcon(this.props,""," ")+nextState)},WLabel.prototype.for=function(e){return this.forId=WUX.getId(e),this},WLabel.prototype.render=function(){var text=this.state||"";return this.forId?this.buildRoot("label",WUX.buildIcon(this.props,""," ")+text,'for="'+this.forId+'"',this._classStyle):this.buildRoot(this.rootTag,WUX.buildIcon(this.props,""," ")+text,null,this._classStyle)},WLabel.prototype.componentDidMount=function(){this._tooltip&&this.root.setAttribute("title",this._tooltip)},WLabel}(WUX.WComponent)),WInput=(WUX.WLabel=WLabel,function(_super){function WInput(id,type,size,classStyle,style,attributes){id=_super.call(this,id||"*","WInput",type,classStyle,style,attributes)||this;return id.rootTag="input",id.size=size,id}return __extends(WInput,_super),Object.defineProperty(WInput.prototype,"readonly",{get:function(){return this._ro},set:function(v){this._ro=v,this.mounted&&(v?this.root.setAttribute("readonly",""):this.root.removeAttribute("readonly"))},enumerable:!1,configurable:!0}),Object.defineProperty(WInput.prototype,"autofocus",{get:function(){return this._af},set:function(v){this._af=v,this.mounted&&(v?this.root.setAttribute("autofocus",""):this.root.removeAttribute("autofocus"))},enumerable:!1,configurable:!0}),WInput.prototype.updateState=function(nextState){_super.prototype.updateState.call(this,nextState=nextState||""),this.root&&(this.root.value=nextState)},WInput.prototype.getState=function(){return this.root&&(this.state=this.root.value),this.state},WInput.prototype.render=function(){var br,l="";return this.label&&(l=this.id?'<label for="'+this.id+'">':"<label>",l=0<(br=this.label.lastIndexOf("<br"))?l+this.label.substring(0,br).replace("<","&lt;").replace(">","&gt;")+"</label><br>":l+this.label.replace("<","&lt;").replace(">","&gt;")+"</label> "),"static"==this.props?l+this.build("span",this.state):(br='name="'+this.id+'"',br+=this.props?' type="'+this.props+'"':' type="text"',this.size&&(br+=' size="'+this.size+'"'),this.state&&(br+=' value="'+this.state+'"'),this.placeHolder&&(br+=' placeholder="'+this.placeHolder+'"'),this._ro&&(br+=" readonly"),this._af&&(br+=" autofocus"),l+this.build(this.rootTag,"",br))},WInput}(WUX.WComponent)),WTextArea=(WUX.WInput=WInput,function(_super){function WTextArea(id,rows,classStyle,style,attributes){id=_super.call(this,id||"*","WTextArea",rows,classStyle,style,attributes)||this;return id.rootTag="textarea",rows||(id.props=5),id}return __extends(WTextArea,_super),Object.defineProperty(WTextArea.prototype,"readonly",{get:function(){return this._ro},set:function(v){this._ro=v,this.mounted&&(v?this.root.setAttribute("readonly",""):this.root.removeAttribute("readonly"))},enumerable:!1,configurable:!0}),Object.defineProperty(WTextArea.prototype,"autofocus",{get:function(){return this._af},set:function(v){this._af=v,this.mounted&&(v?this.root.setAttribute("autofocus",""):this.root.removeAttribute("autofocus"))},enumerable:!1,configurable:!0}),WTextArea.prototype.updateState=function(nextState){_super.prototype.updateState.call(this,nextState=nextState||""),this.root&&(this.root.value=nextState)},WTextArea.prototype.getState=function(){return this.root&&(this.state=this.root.value),this.state},WTextArea.prototype.render=function(){return this.props||(this.props=1),this._style?this._style.indexOf("width")<0&&(this._style+=";width:100%"):this._style="width:100%",this._attributes?this._style.indexOf("rows=")<0&&(this._attributes+=' rows="'+this.props+'"'):this._attributes='rows="'+this.props+'"',this._ro&&(this._attributes?this._attributes+=" readonly":this._attributes="readonly"),this._af&&(this._attributes?this._attributes+=" autofocus":this._attributes="autofocus"),WUX.build("textarea","",this._style,this._attributes,this.id,this._classStyle)},WTextArea.prototype.componentDidMount=function(){this._tooltip&&this.root.setAttribute("title",this._tooltip),this.state&&this.root.setAttribute("value",this.state)},WTextArea}(WUX.WComponent)),WPages=(WUX.WTextArea=WTextArea,function(_super){function WButton(id,text,icon,classStyle,style,attributes,type){id=_super.call(this,id||"*","WButton",icon,classStyle,style,attributes)||this;return id.updateState(text),id.rootTag="button",id.type=type||"button",id}return __extends(WButton,_super),Object.defineProperty(WButton.prototype,"icon",{get:function(){return this.props},set:function(i){this.update(i,this.state,!0,!1,!1)},enumerable:!1,configurable:!0}),WButton.prototype.setText=function(text,icon){null!=icon&&(this.props=icon),this.setState(text)},WButton.prototype.render=function(){var addAttributes=this.type?'type="'+this.type+'"':"",html="";return this.state?html+=WUX.buildIcon(this.props,""," ")+this.state:html+=WUX.buildIcon(this.props),this.build(this.rootTag,html,addAttributes)},WButton.prototype.componentDidMount=function(){this._tooltip&&this.root.setAttribute("title",this._tooltip)},WButton.prototype.componentWillUpdate=function(nextProps,nextState){var html="";null==nextProps&&(nextProps=this.props),html+=nextState?WUX.buildIcon(nextProps,""," ")+nextState:WUX.buildIcon(nextProps),this.root.innerHTML=html},WButton}(WUX.WComponent)),WCheck=(WUX.WButton=WPages,function(_super){function WCheck(id,text,value,checked,classStyle,style,attributes){id=_super.call(this,id||"*","WCheck",checked,classStyle,style,attributes)||this;return id.rootTag="input",id.value=value||"1",checked&&id.updateState(value),id.text=text,id}return __extends(WCheck,_super),Object.defineProperty(WCheck.prototype,"checked",{get:function(){return this.root&&(this.props=!!this.root.checked),this.state=this.props?this.value:void 0,this.props},set:function(b){this.setProps(b)},enumerable:!1,configurable:!0}),Object.defineProperty(WCheck.prototype,"tooltip",{set:function(s){this._tooltip=s;s=document.getElementById(this.id+"-l");s?s.setAttribute("title",this._tooltip):this.root&&this.root.setAttribute("title",this._tooltip)},enumerable:!1,configurable:!0}),WCheck.prototype.getState=function(){return this.root&&(this.props=!!this.root.checked),this.state=this.props?this.value:void 0,this.state},WCheck.prototype.updateProps=function(nextProps){_super.prototype.updateProps.call(this,nextProps),null==this.props&&(this.props=!1),this.state=this.props?this.value:void 0,this.root&&(this.root.checked=this.props)},WCheck.prototype.updateState=function(nextState){_super.prototype.updateState.call(this,nextState),"boolean"==typeof this.state?(this.props=this.state,this.state=this.props?this.value:void 0):("true"==this.state&&(this.state="1"),this.props=this.state&&this.state==this.value),this.root&&(this.root.checked=this.props)},WCheck.prototype.render=function(){var addAttributes='name="'+this.id+'" type="checkbox"',inner=(addAttributes+=this.props?' checked="checked"':"",this.text?"&nbsp;"+this.text:""),l=(this.label?this._tooltip&&(addAttributes+=' title="'+this._tooltip+'"'):this.label="",'<label id="'+this.id+'-l" for="'+this.id+'"'),r0=(this._tooltip&&(l+=' title="'+this._tooltip+'"'),l+=">"+this.label,""),r1="";return(this.divClass||this.divStyle)&&(r0+="<div ",this.divClass&&(r0+=' class="'+this.divClass+'"'),this.divStyle&&(r0+=' style="'+this.divStyle+'"'),r0+=">"),this.lever?r0=r0+'<div class="toggles">'+l:r1+=l,r0&&(this.lever&&(r1+='<span class="lever"'+(this.leverStyle?' style="'+this.leverStyle+'"':"")+"></span></label></div>"),r1+="</div>"),r0+this.build(this.rootTag,inner,addAttributes)+r1},WCheck.prototype.componentDidMount=function(){var _this=this;this.id&&(this.root=document.getElementById(this.id)),this.root&&this.root.addEventListener("change",function(e){_this.props=!!_this.root.checked,_this.state=_this.props?_this.value:void 0})},WCheck}(WUX.WComponent)),WRadio=(WUX.WCheck=WCheck,function(_super){function WRadio(id,options,classStyle,style,attributes,props){id=_super.call(this,id||"*","WRadio",props,classStyle,style,attributes)||this;return id.options=options,id.classDiv="form-check form-check-inline",id}return __extends(WRadio,_super),Object.defineProperty(WRadio.prototype,"enabled",{get:function(){return this._enabled},set:function(b){if(this._enabled=b,this.mounted)for(var i=0;i<this.options.length;i++){var item=document.getElementById(this.id+"-"+i);item&&(b?item.removeAttribute("disabled"):item.setAttribute("disabled",""))}},enumerable:!1,configurable:!0}),Object.defineProperty(WRadio.prototype,"tooltip",{set:function(s){if(this._tooltip=s,this.mounted&&(this.internal&&(this.internal.tooltip=s),this.options&&this.options.length))for(var i=0;i<this.options.length;i++){var item=document.getElementById(this.id+"-"+i);item&&item.setAttribute("title",this._tooltip)}},enumerable:!1,configurable:!0}),WRadio.prototype.select=function(i){return this.root&&this.options&&this.setState(this.options.length>i?this.options[i]:null),this},WRadio.prototype.getProps=function(){if(!this.options||!this.options.length)return null;for(var i=0;i<this.options.length;i++){var rid=this.id+"-"+i,item=document.getElementById(rid);if(item&&item.checked){item=document.getElementById(rid+"-l");if(item)return item.innerText}}return WUX.WUtil.toString(this.state)},WRadio.prototype.setOptions=function(options,prevVal){if(this.options=options,!this.mounted)return this;var p=this.getState(),o=this.buildOptions();return this.root.innerHTML=o,prevVal?this.setState(p):options&&options.length&&this.setState(options[0]),this.componentDidMount(),this},WRadio.prototype.updateState=function(nextState){_super.prototype.updateState.call(this,nextState),this.state||this.options&&this.options.length&&(this.state=this.options[0]),"object"==typeof this.state&&"id"in this.state&&(this.state=this.state.id)},WRadio.prototype.render=function(){var r=this.buildOptions();return WUX.build("div",r,this._style,this._attributes,this.id,this._classStyle)},WRadio.prototype.componentDidMount=function(){var _this=this;if(this.options&&this.options.length)for(var this_1=this,i=0;i<this.options.length;i++)!function(i){var item=document.getElementById(this_1.id+"-"+i);if(!item)return;this_1._tooltip&&item.setAttribute("title",this_1._tooltip);var opt=this_1.options[i];item.addEventListener("change",function(e){_this.setState(opt)})}(i)},WRadio.prototype.componentDidUpdate=function(prevProps,prevState){var item,idx=-1;if(this.state){for(var i=0;i<this.options.length;i++)if(WUX.match(this.state,this.options[i])){idx=i;break}}else idx=0;0<=idx&&((item=document.getElementById(this.id+"-"+idx))&&(item.checked=!0))},WRadio.prototype.buildOptions=function(){var r="",d=(this.label&&(r=(r+=this.id?'<label for="'+this.id+'">':"<label>")+this.label.replace("<","&lt;").replace(">","&gt;")+"</label> "),""),l=(null==this._enabled||this._enabled||(d=" disabled"),this.options||(this.options=[]),this.options.length);void 0===this.state&&l&&(this.state=this.options[0]);for(var i=0;i<l;i++){r+="<div",this.classDiv&&(r+=' class="'+this.classDiv+'"'),this.styleDiv&&(r+=' style="'+this.styleDiv+'"'),r+=">";var opt=this.options[i],rid=this.id+"-"+i;"string"==typeof opt?(WUX.match(this.state,opt)?r+='<input type="radio" value="'+opt+'" name="'+this.id+'" id="'+rid+'" checked'+d+">":r+='<input type="radio" value="'+opt+'" name="'+this.id+'" id="'+rid+'"'+d+">",r+='<label id="'+rid+'-l" for="'+rid+'">'+opt+"</label>"):(WUX.match(this.state,opt)?r+='<input type="radio" value="'+opt.id+'" name="'+this.id+'" id="'+rid+'" checked'+d+">":r+='<input type="radio" value="'+opt.id+'" name="'+this.id+'" id="'+rid+'"'+d+">",r+='<label id="'+rid+'-l" for="'+rid+'">'+opt.text+"</label>"),r+="</div>"}return r},WRadio}(WUX.WComponent)),WSelect=(WUX.WRadio=WRadio,function(_super){function WSelect(id,options,multiple,classStyle,style,attributes){id=_super.call(this,id||"*","WSelect",null,classStyle,style,attributes)||this;return id.rootTag="select",id.options=options,id.multiple=multiple,id}return __extends(WSelect,_super),WSelect.prototype.getProps=function(){if(!this.root)return this.props;this.props=[];var s,options=this.root.options;return options&&options.length&&(0<=(s=WUX.WUtil.toNumber(this.root.selectedIndex,-1))&&options.length>s&&this.props.push(options[s].text)),this.props},WSelect.prototype.select=function(i){return this.root&&this.options&&this.setState(this.options.length>i?this.options[i]:null),this},WSelect.prototype.addOption=function(e,sel){if(!e)return this;if(this.options||(this.options=[]),this.options.push(e),!this.mounted)return this;var o=this.buildOptions();return this.root.innerHTML=o,sel&&this.updateState(e),this},WSelect.prototype.remOption=function(e){if(!e||!this.options)return this;for(var x=-1,i=0;i<this.options.length;i++){var s=this.options[i];if(s)if("string"==typeof e){if("string"==typeof s){if(s==e){x=i;break}}else if(s.id==e){x=i;break}}else if("string"==typeof s){if(s==e.id){x=i;break}}else if(s.id==e.id){x=i;break}}if(0<=x){if(this.options.splice(x,1),!this.mounted)return this;var o=this.buildOptions();this.root.innerHTML=o}return this},WSelect.prototype.setOptions=function(options,prevVal){if(this.options=options,!this.mounted)return this;var pv=this.root.value,o=this.buildOptions();return this.root.innerHTML=o,prevVal?this.root.value=pv:options&&options.length&&("string"==typeof options[0]?this.trigger("statechange",options[0]):this.trigger("statechange",WUX.WUtil.getString(options[0],"id"))),this},WSelect.prototype.updateState=function(nextState){_super.prototype.updateState.call(this,nextState),this.root&&(null==this.state?this.root.value="":"string"==typeof this.state||"number"==typeof this.state?this.root.value=""+this.state:this.root.value=this.state.id)},WSelect.prototype.render=function(){var o=this.buildOptions(),addAttributes='name="'+this.id+'"',d=(this.multiple&&(addAttributes+=' multiple="multiple"'),"");return null==this._enabled||this._enabled||(d=" disabled"),this.buildRoot("select",o,addAttributes+=d)},WSelect.prototype.componentDidMount=function(){var _this=this;this._tooltip&&this.root.setAttribute("title",this._tooltip),this.state&&(this.root.value=this.state),this.root.addEventListener("change",function(){_this.trigger("statechange",_this.root.value)})},WSelect.prototype.buildOptions=function(){var r="";this.options||(this.options=[]);for(var _i=0,_a=this.options;_i<_a.length;_i++){var opt=_a[_i];r+="string"==typeof opt?"<option>"+opt+"</option>":'<option value="'+opt.id+'">'+opt.text+"</option>"}return r},WSelect}(WUX.WComponent)),WPages=(WUX.WSelect=WSelect,function(_super){function WTable(id,header,keys,classStyle,style,attributes,props){var _this=_super.call(this,id||"*","WTable",props,classStyle,style,attributes)||this;if(_this.reqSort=-1,_this.prvSort=-1,_this.selectedRow=-1,_this.paging=!1,_this.plen=10,_this.page=1,_this.rows=0,_this.rootTag="table",_this.header=header,keys&&keys.length)_this.keys=keys;else if(_this.keys=[],_this.header)for(var i=0;i<_this.header.length;i++)_this.keys.push(i);return _this.widths=[],_this.selClass=WUX.CSS.SEL_ROW,_this}return __extends(WTable,_super),WTable.prototype.onSelectionChanged=function(handler){this.handlers._selectionchanged||(this.handlers._selectionchanged=[]),this.handlers._selectionchanged.push(handler)},WTable.prototype.onDoubleClick=function(handler){this.handlers._doubleclick||(this.handlers._doubleclick=[]),this.handlers._doubleclick.push(handler)},WTable.prototype.onRowPrepared=function(handler){this.handlers._rowprepared||(this.handlers._rowprepared=[]),this.handlers._rowprepared.push(handler)},WTable.prototype.clearSelection=function(){if(this.selectedRow=-1,!this.mounted)return this;var b=document.getElementById(this.id+"-b");if(b&&this.selClass)for(var an=b.childNodes,i=0;i<b.childElementCount;i++)WUX.removeClassOf(an[i],this.selClass);if(!this.handlers._selectionchanged)return this;for(var _i=0,_a=this.handlers._selectionchanged;_i<_a.length;_i++)(0,_a[_i])({element:this.root,selectedRowsData:[]});return this},WTable.prototype.select=function(idxs){if(this.selectedRow=(idxs=idxs||[]).length?idxs[0]:-1,!this.mounted)return this;var b=document.getElementById(this.id+"-b");if(b&&this.selClass)for(var an=b.childNodes,i=0;i<b.childElementCount;i++)0<=idxs.indexOf(i)?WUX.addClassOf(an[i],this.selClass):WUX.removeClassOf(an[i],this.selClass);if(!this.handlers._selectionchanged)return this;for(var srd=[],_i=0,idxs_1=idxs;_i<idxs_1.length;_i++){var idx=idxs_1[_i];this.state&&this.state.length>idx&&srd.push(this.state[idx])}for(var _a=0,_b=this.handlers._selectionchanged;_a<_b.length;_a++)(0,_b[_a])({element:this.root,selectedRowsData:srd});return this},WTable.prototype.selectAll=function(toggle){if(!this.mounted)return this;if(toggle&&0<=this.selectedRow)return this.clearSelection();this.selectedRow=-1,this.state&&this.state.length&&(this.selectedRow=0);var b=document.getElementById(this.id+"-b");if(b&&this.selClass)for(var an=b.childNodes,i=0;i<b.childElementCount;i++)WUX.addClassOf(an[i],this.selClass);if(!this.handlers._selectionchanged)return this;for(var _i=0,_a=this.handlers._selectionchanged;_i<_a.length;_i++)(0,_a[_i])({element:this.root,selectedRowsData:this.state});return this},WTable.prototype.getSelectedRows=function(){return!this.mounted||this.selectedRow<0?[]:[this.selectedRow]},WTable.prototype.getSelectedRowsData=function(){return!this.mounted||this.selectedRow<0||!this.state||!this.state.length||this.state.length<=this.selectedRow?[]:[this.state[this.selectedRow]]},WTable.prototype.render=function(){if(this.sortable&&this.sortable.length){this.soId=[],this.sortBy=[];for(var i=0;i<this.sortable.length;i++)this.sortBy.push(0)}var tableClass="table",ts=(this._classStyle&&(tableClass=0<=this._classStyle.indexOf("table ")?this._classStyle:tableClass+" "+this._classStyle),this.style?' style="'+this.style+'"':""),r="",sm=(this.div&&(r+='<div id="'+this.id+'-c" class="'+this.div+'">'),this.selectionMode);if(sm&&"none"!=sm&&tableClass.indexOf("table-hover")<0&&(tableClass+=" table-hover"),r+='<table id="'+this.id+'" class="'+tableClass+'"'+ts+">",this.header&&this.header.length){var ths=!1;if("string"==typeof this.headStyle?0<this.headStyle.indexOf("text-align")&&(ths=!0):this.headStyle&&this.headStyle.a&&(ths=!0),!this.hideHeader){r+=ths?'<thead id="'+this.id+'-h"><tr>':'<thead id="'+this.id+'-h"><tr'+WUX.buildCss(this.headStyle)+">";for(var j=-1,_i=0,_a=this.header;_i<_a.length;_i++){var h=_a[_i],s=void 0,s=0==++j?this.col0Style||this.colStyle:j==this.header.length-1?this.colLStyle||this.colStyle:ths?this.headStyle:this.colStyle,w=this.widths&&this.widths.length>j?this.widths[j]:0,x={};w&&(x.w=this.widthsPerc?w+"%":w),"w"==this.getType(j)&&(x.a="center"),this.sortable&&0<=this.sortable.indexOf(j)?(w=this.subId("sort_"+j),this.soId.push(w),r+="<th"+WUX.buildCss(s,x)+'><a style="cursor:pointer;text-decoration:none !important;" id="'+w+'">'+h+' &nbsp;<i class="fa fa-unsorted"></i></a></th>'):r+="<th"+WUX.buildCss(s,x)+">"+h+"</th>"}r+="</tr></thead>"}}return r=r+('<tbody id="'+this.id+'-b"></tbody>')+"</table>",this.div&&(r+="</div>"),r},WTable.prototype.componentDidMount=function(){var _this=this;if(this.buildBody(),this.soId)for(var _i=0,_a=this.soId;_i<_a.length;_i++)!function(aid){var a=document.getElementById(aid);a&&a.addEventListener("click",function(e){var e=WUX.lastSub(WUX.getId(e.currentTarget)),x=e.indexOf("_");if(!(x<=0)){e=WUX.WUtil.toNumber(e.substring(x+1),-1);if(0<=e&&_this.header&&_this.header.length>e){_this.reqSort=e;var x=_this.handlers._sort,ds=!(x&&x.length)&&_this.keys&&_this.keys.length>e,h=_this.header[e],v=_this.sortBy[e];if(v?1==v?(_this.sortBy[e]=-1,h&&(a.innerHTML=h+' &nbsp;<i class="fa fa-sort-desc"></i>'),ds&&_this.setState(WUX.WUtil.sort(_this.state,!1,_this.keys[e]))):-1==v&&(_this.sortBy[e]=0,h&&(a.innerHTML=h+' &nbsp;<i class="fa fa-unsorted"></i>')):(_this.sortBy[e]=1,h&&(a.innerHTML=h+' &nbsp;<i class="fa fa-sort-asc"></i>'),ds&&_this.setState(WUX.WUtil.sort(_this.state,!0,_this.keys[e]))),x)for(var _i=0,hs_2=x;_i<hs_2.length;_i++)(0,hs_2[_i])(_this.createEvent("_sort",_this.sortBy));_this.reqSort=-1,_this.prvSort=e}}})}(_a[_i]);var b=document.getElementById(this.id+"-b");b&&(b.addEventListener("click",function(e){!_this.selectionMode||"none"==_this.selectionMode||!(e=e.target)||!(e=e.closest("tr"))||(e=WUX.WUtil.toNumber(WUX.lastSub(e),-1))<0||_this.select([e])}),b.addEventListener("dblclick",function(e){if(_this.handlers._doubleclick){e=e.target;if(e){var tr=e.closest("tr");if(tr){var i=WUX.WUtil.toNumber(WUX.lastSub(tr),-1);if(!(i<0))for(var d=_this.state&&_this.state.length>i?_this.state[i]:null,_i=0,_a=_this.handlers._doubleclick;_i<_a.length;_i++)(0,_a[_i])({element:_this.root,rowElement:tr,data:d,rowIndex:i})}}}}))},WTable.prototype.componentDidUpdate=function(prevProps,prevState){this.buildBody(),this.updSort()},WTable.prototype.updSort=function(){var aid,h;-1!=this.prvSort&&this.reqSort!=this.prvSort&&this.sortBy[this.prvSort]&&(aid=this.subId("sort_"+this.prvSort),(aid=document.getElementById(aid))&&((h=this.header[this.prvSort])&&(aid.innerHTML=h+' &nbsp;<i class="fa fa-unsorted"></i>'),this.sortBy[this.prvSort]=0))},WTable.prototype.getType=function(i){return!this.types||this.types.length<=i?"":this.types[i]},WTable.prototype.buildBody=function(){var tbody=document.getElementById(this.id+"-b");if(tbody)if(this.state&&this.state.length)if(this.keys&&this.keys.length){this.page<1&&(this.page=1),this.plen<1&&(this.plen=10);for(var s=(this.page-1)*this.plen,m=s+this.plen,sr=this.selectionMode&&"none"!=this.selectionMode?' style="cursor:pointer;"':"",b="",l=this.state?this.state.length:0,i=this.rows=0;i<l;i++)if(!this.paging||!(i<s||m<=i)){this.rows++;for(var row=this.state[i],r="",r=i==this.state.length-1&&this.footerStyle?"<tr"+WUX.buildCss(this.footerStyle)+' id="'+this.id+"-"+i+'"'+sr+">":"<tr"+WUX.buildCss(this.rowStyle)+' id="'+this.id+"-"+i+'"'+sr+">",j=-1,_i=0,_a=this.keys;_i<_a.length;_i++){var v=row[_a[_i]],align="";switch(null==v&&(v=""),j++,t=this.getType(j)){case"w":align="text-center";break;case"c":case"c5":case"i":case"n":align="text-right";break;case"b":v=v?"&check;":"";break;default:"number"==typeof(v="boolean"==typeof(v=v instanceof Date?v.toLocaleDateString():v)?v?"&check;":"":v)&&(align="text-right")}var s_1=void 0,w=("string"==typeof(s_1=0==j?this.col0Style||this.colStyle:j==this.header.length-1&&this.colLStyle||this.colStyle)?0<s_1.indexOf("text-align")&&(align=""):s_1&&s_1.a&&(align=""),this.widths&&this.widths.length>j?this.widths[j]:0);r+="<td"+WUX.buildCss(s_1,align,{w:w})+">"+v+"</td>"}if(this.header&&this.header.length>this.keys.length)for(var i_1=0;i_1<this.header.length-this.keys.length;i_1++)r+="<td"+WUX.buildCss(this.colStyle)+"></td>";if(r+="</tr>",this.handlers._rowprepared){(t=document.createElement("template")).innerHTML=r;for(var t,e={element:this.root,rowElement:t.content.firstElementChild,data:row,rowIndex:i},_b=0,_c=this.handlers._rowprepared;_b<_c.length;_b++)(0,_c[_b])(e);r=t.innerHTML}b+=r}tbody.innerHTML=b}else tbody.innerHTML="";else tbody.innerHTML=""},WTable.prototype.onSort=function(h){this.handlers._sort||(this.handlers._sort=[]),this.handlers._sort.push(h)},WTable}(WUX.WComponent)),WPages=(WUX.WTable=WPages,function(_super){function WForm(id,title,action){id=_super.call(this,id||"*","WForm")||this;return id.rootTag="form",id._attributes=action?'role="form" name="'+id.id+'" action="'+action+'"':'role="form" name="'+id.id+'" action="javascript:void(0);"',id.title=title,WUX.CSS.FORM&&(0<WUX.CSS.FORM.indexOf(":")?id.style=WUX.CSS.FORM:id.classStyle=WUX.CSS.FORM),id.init(),id}return __extends(WForm,_super),Object.defineProperty(WForm.prototype,"enabled",{get:function(){return this.internal?this.internal.enabled:this._enabled},set:function(b){this._enabled=b,this.internal&&(this.internal.enabled=b),this.fieldset&&(this._enabled?this.fieldset.removeAttribute("disabled"):this.fieldset.setAttribute("disabled",""))},enumerable:!1,configurable:!0}),WForm.prototype.init=function(){return this.rows=[],this.roww=[],this.currRow=null,this.footer=[],this.captions=[],this.addRow(),this},WForm.prototype.focus=function(){if(!this.mounted)return this;var f=this.first(!0);return f&&(f.component?f.component.focus():f.element instanceof HTMLElement&&f.element.focus()),this},WForm.prototype.first=function(enabled){if(!this.rows)return null;for(var _i=0,_a=this.rows;_i<_a.length;_i++)for(var _b=0,row_1=_a[_i];_b<row_1.length;_b++){var f=row_1[_b];if(!enabled)return f;if((null==f.enabled||f.enabled)&&(null==f.readonly||!f.readonly))return f}return null},WForm.prototype.focusOn=function(fieldId){if(!this.mounted)return this;fieldId=this.getField(fieldId);return fieldId&&(fieldId.component?fieldId.component.focus():fieldId.element instanceof HTMLElement&&fieldId.element.focus()),this},WForm.prototype.getField=function(fid){if(fid)for(var sid=0==fid.indexOf(this.id+"-")?fid:this.subId(fid),i=0;i<this.rows.length;i++)for(var row=this.rows[i],j=0;j<row.length;j++){var f=row[j];if(f.id==sid)return f}},WForm.prototype.getComponent=function(fid,def){var f=this.getField(fid);if(!f)return console.error("["+WUX.str(this)+"] Field "+fid+" not found."),def;f=f.component;return f||(console.error("["+WUX.str(this)+"] Field "+fid+" has no components."),def)},WForm.prototype.onField=function(fid,events,handler){fid=this.getComponent(fid);if(fid)return fid.on(events,handler),this},WForm.prototype.addRow=function(classStyle,style,id,attributes,type){return void 0===type&&(type="row"),this.currRow&&!this.currRow.length?this.roww[this.roww.length-1]={classStyle:classStyle,style:style,id:id,attributes:WUX.attributes(attributes),type:type}:(this.currRow=[],this.rows.push(this.currRow),this.roww.push({classStyle:classStyle,style:style,id:id,attributes:WUX.attributes(attributes),type:type})),this},WForm.prototype._add=function(id,label,co,type,opts){opts=opts||{};return co instanceof WInput||co instanceof WTextArea?(co.readonly=!!opts.readonly,co.autofocus=!!opts.autofocus):co.enabled=!opts.readonly,opts.attributes&&(co.attributes=opts.attributes),opts.tooltip&&(co.tooltip=opts.tooltip),opts.style&&(co.style=WUX.style(opts.style)),opts.id=id,opts.label=label,opts.component=co,opts.type=type,this.currRow.push(opts),this},WForm.prototype.addTextField=function(fieldId,label,opts){var fieldId=this.subId(fieldId),co=new WInput(fieldId,"text",0,WUX.CSS.FORM_CTRL);return this._add(fieldId,label,co,"text",opts)},WForm.prototype.addDateField=function(fieldId,label,opts){var fieldId=this.subId(fieldId),co=new WInput(fieldId,"date",0,WUX.CSS.FORM_CTRL);return this._add(fieldId,label,co,"date",opts)},WForm.prototype.addTimeField=function(fieldId,label,opts){var fieldId=this.subId(fieldId),co=new WInput(fieldId,"time",0,WUX.CSS.FORM_CTRL);return this._add(fieldId,label,co,"time",opts)},WForm.prototype.addEmailField=function(fieldId,label,opts){var fieldId=this.subId(fieldId),co=new WInput(fieldId,"email",0,WUX.CSS.FORM_CTRL);return this._add(fieldId,label,co,"email",opts)},WForm.prototype.addNoteField=function(fieldId,label,rows,opts){rows=rows||3;fieldId=this.subId(fieldId),rows=new WTextArea(fieldId,rows,WUX.CSS.FORM_CTRL);return this._add(fieldId,label,rows,"note",opts)},WForm.prototype.addOptionsField=function(fieldId,label,options,opts){fieldId=this.subId(fieldId),options=new WSelect(fieldId,options,!1,WUX.CSS.FORM_CTRL);return this._add(fieldId,label,options,"select",opts)},WForm.prototype.addRadioField=function(fieldId,label,options,opts){fieldId=this.subId(fieldId),options=new WRadio(fieldId,options,WUX.CSS.FORM_CTRL,WUX.CSS.CHECK_STYLE);return this._add(fieldId,label,options,"select",opts)},WForm.prototype.addBooleanField=function(fieldId,label,labelCheck,opts){var fieldId=this.subId(fieldId),co=new WCheck(fieldId,"");return co.divClass=WUX.CSS.FORM_CHECK,co.divStyle=WUX.CSS.CHECK_STYLE,co.classStyle=WUX.CSS.FORM_CTRL,co.label=labelCheck,this._add(fieldId,label,co,"boolean",opts)},WForm.prototype.addToggleField=function(fieldId,label,labelCheck,opts){var fieldId=this.subId(fieldId),co=new WCheck(fieldId,"");return co.lever=!0,co.divClass=WUX.CSS.FORM_CHECK,co.divStyle=WUX.CSS.CHECK_STYLE,co.classStyle=WUX.CSS.FORM_CTRL,co.leverStyle=WUX.CSS.LEVER_STYLE,co.label=labelCheck,this._add(fieldId,label,co,"boolean",opts)},WForm.prototype.addBlankField=function(label,classStyle,style,opts){var f0=opts||{},classStyle=new WContainer("",classStyle,style);return f0.element&&classStyle.add(f0.element),this._add("",label,classStyle,"blank",opts)},WForm.prototype.addCaption=function(text,icon,classStyle,style,opts){text=new WLabel("",text=text||"",icon,classStyle,style);return this._add("","",text,"caption",opts)},WForm.prototype.addInternalField=function(fieldId,value){return void 0===value&&(value=null),this.currRow.push({id:this.subId(fieldId),value:value,type:"internal"}),this},WForm.prototype.addComponent=function(fieldId,label,component,opts){return component?fieldId?(fieldId=this.subId(fieldId),component.id=fieldId,this._add(fieldId,label,component,"component",opts)):(component.id="",this._add("",label,component,"component",opts)):this},WForm.prototype.addToFooter=function(c){return(c||this.footer)&&this.footer.push(c),this},WForm.prototype.componentDidMount=function(){this.fieldset=document.createElement("fieldset"),this._enabled||this.fieldset.setAttribute("disabled",""),this.root.appendChild(this.fieldset),this.main=new WContainer(this.id+"__c");for(var i=0;i<this.rows.length;i++){for(var w=this.roww[i],row=(this.main.addRow(WUX.cls(w.type,w.classStyle,w.style),WUX.style(w.style)),this.rows[i]),cols=0,j=0;j<row.length;j++)(f=row[j]).component&&(cols+=f.span&&0<f.span?f.span:1);for(var lc,ls,cs,g=!!WUX.CSS.FORM_GROUP,j=0;j<row.length;j++)(f=row[j]).component&&(1==(cs=(cs=Math.floor(12/cols))<1?1:cs)&&cols<11&&(0==j||j==cols-1)&&(cs=2),f.span&&0<f.span&&(cs*=f.span),f.colClass?WUX.WUtil.starts(f.colClass,"col-")?this.main.addCol(f.colClass,f.colStyle):this.main.addCol(cs+" "+f.colClass,f.colStyle):this.main.addCol(""+cs,f.colStyle),"caption"!=f.type&&f.component.setState(f.value),f.label&&!f.labelComp&&(cs=f.required?" *":"",lc=WUX.CSS.LBL_CLASS,ls="",f.labelCss?f.labelCss.indexOf(":")?ls=f.labelCss:lc=f.labelCss:f.classStyle&&(lc=f.classStyle),cs=new WLabel(f.id+"-l",f.label+cs,"",lc,ls),f.labelComp=cs.for(f.id)),g?"select"==f.type?this.main.addGroup({classStyle:WUX.CSS.SEL_WRAPPER},f.labelComp,f.component):this.main.addGroup({classStyle:WUX.CSS.FORM_GROUP},f.labelComp,f.component):(this.main.add(f.labelComp),this.main.add(f.component)))}if(this.footer&&this.footer.length){this.foot=new WContainer(this.subId("__foot"),this.footerClass,this.footerStyle);for(var _i=0,_a=this.footer;_i<_a.length;_i++){var f=_a[_i];this.foot.addRow().addCol("12").add(f)}this.main.addRow().addCol("12").add(this.foot)}this.main.mount(this.fieldset)},WForm.prototype.componentWillUnmount=function(){this.main||this.main.unmount()},WForm.prototype.clear=function(){for(var i=0;i<this.rows.length;i++)for(var row=this.rows[i],j=0;j<row.length;j++){var f=row[j];"caption"!=f.type&&(f.component&&f.component.setState(null),f.value=null)}return this},WForm.prototype.setValue=function(fid,v,updState){void 0===updState&&(updState=!0);var f=this.getField(fid);return f&&("date"==f.type&&(v=WUX.isoDate(v)),"time"==f.type&&(v=WUX.formatTime(v,!1)),f.component&&f.component.setState(v),f.value=v,updState&&(this.state||(this.state={}),this.state[fid]=v)),this},WForm.prototype.getValue=function(fid){fid="string"==typeof fid?this.getField(fid):fid;return fid?fid.component?fid.component.getState():fid.value:null},WForm.prototype.setOptions=function(fid,options,prevVal){fid=this.getField(fid);if(!fid)return this;fid=fid.component;return(fid instanceof WUX.WSelect||fid instanceof WUX.WRadio)&&fid.setOptions(options,prevVal),this},WForm.prototype.setSpan=function(fieldId,span){fieldId=this.getField(fieldId);return fieldId&&(fieldId.span=span),this},WForm.prototype.setEnabled=function(fieldId,v){fieldId=this.getField(fieldId);return fieldId&&(fieldId.enabled=v,fieldId.component&&(fieldId.component.enabled=v)),this},WForm.prototype.setReadOnly=function(fieldId,v){fieldId=this.getField(fieldId);if(!fieldId)return this;fieldId.readonly=v;fieldId=fieldId.component;return(fieldId instanceof WUX.WInput||fieldId instanceof WUX.WTextArea)&&(fieldId.readonly=v),this},WForm.prototype.getValues=function(){for(var r={},i=0;i<this.rows.length;i++)for(var row=this.rows[i],j=0;j<row.length;j++){var f=row[j],k=this.ripId(f.id);k&&(r[k]=f.component?f.component.getState():f.value)}return r},WForm.prototype.getState=function(){return this.state=this.getValues(),this.state},WForm.prototype.updateState=function(nextState){_super.prototype.updateState.call(this,nextState),!nextState||WUX.WUtil.isEmpty(nextState)?this.clear():this.updateView()},WForm.prototype.updateView=function(){if(this.state)for(var id in this.state)this.setValue(id,this.state[id],!1);else this.clear()},WForm.prototype.setMandatory=function(){for(var fids=[],_i=0;_i<arguments.length;_i++)fids[_i]=arguments[_i];if(!this.rows)return this;for(var sids=[],_a=0,fids_1=fids;_a<fids_1.length;_a++){var fid=fids_1[_a],fid=0==fid.indexOf(this.id+"-")?fid:this.subId(fid);sids.push(fid)}for(var i=0;i<this.rows.length;i++)for(var row=this.rows[i],j=0;j<row.length;j++){var f=row[j];0<=sids.indexOf(f.id)?f.required=!0:f.required=!1}return this},WForm.prototype.checkMandatory=function(labels,focus,atLeastOne){for(var values=(values=this.getState())||{},r="",x="",a=!1,i=0;i<this.rows.length;i++)for(var row=this.rows[i],j=0;j<row.length;j++){var f=row[j],id=this.ripId(f.id),v=values[id];f.required&&(null==v||""==v?(r+=labels?","+f.label:","+id,x=x||id):a=!0)}return atLeastOne&&a?"":(x&&focus&&this.focusOn(x),r&&r.substring(1))},WForm}(WUX.WComponent));WUX.WForm=WPages}(WUX=WUX||{}),function(WUX){function JQ(e){var jq=window.jQuery||null;if(!jq)return console.error("[WUX] jQuery is not available"),null;jq=jq(e);return jq.length?jq:(console.error("[WUX] !jQuery("+e+").length==true"),null)}WUX.BS_VER=5,WUX.BS_DLG_X="",WUX.JQ=JQ,WUX.setJQCss=function(e){for(var a=[],_i=1;_i<arguments.length;_i++)a[_i-1]=arguments[_i];if(!e||!a||!a.length)return e;if(e instanceof WUX.WComponent)e.css.apply(e,a);else if(e instanceof jQuery){if(!e.length)return e;var s=WUX.css.apply(void 0,a),c=WUX.cls.apply(void 0,a);c&&e.addClass(c),s&&e.attr("style",s)}return e};var WDialog=function(_super){function WDialog(id,name,btnOk,btnClose,classStyle,style,attributes){void 0===btnOk&&(btnOk=!0),void 0===btnClose&&(btnClose=!0);var _this=_super.call(this,id,name=void 0===name?"WDialog":name,void 0,classStyle,style,attributes)||this;return _this.pg=0,_this.buttons=[],_this.tagTitle="h5",btnClose&&(btnOk||(_this.txtCancel=WUX.RES.CLOSE),_this.buttonCancel()),btnOk&&_this.buttonOk(),_this.ok=!1,_this.cancel=!1,_this.isShown=!1,_this.id&&"*"!=_this.id&&(id=document.getElementById(_this.id))&&id.remove(),WuxDOM.onRender(function(e){_this.mounted||_this.wp||_this.mount(e.element)}),_this}return __extends(WDialog,_super),WDialog.prototype.addToPages=function(wp,headVis,footVis,headStyle,footStyle,btnStyle){if(void 0===headVis&&(headVis=!0),void 0===footVis&&(footVis=!0),!(this.wp=wp))return this;if(this.isShown=!1,this.contClass||(this.contClass="modal-content"),this.cntRoot=new WUX.WContainer(this.id),this.cntMain=this.cntRoot.addContainer("",this.mainClass,this._style),this.cntContent=this.cntMain.addContainer("",this.contClass,this.contStyle),headVis&&this.cntHeader&&(this.cntHeader.style=WUX.css(this.cntHeader.style,headStyle=null==headStyle?"margin-bottom:2rem;":headStyle),this.cntContent.addContainer(this.cntHeader)),this.cntBody&&this.cntContent.addContainer(this.cntBody),footVis){null==btnStyle&&(btnStyle="margin:0.25rem;");for(var _i=0,_b=this.buttons;_i<_b.length;_i++){var btn=_b[_i];btn.style=WUX.css(btn.style,btnStyle),this.footer.add(btn)}this.cntFooter&&(footStyle&&(this.cntFooter.style=WUX.css(this.cntFooter.style,footStyle)),this.cntContent.addContainer(this.cntFooter))}return wp.add(this.cntRoot),this.pg=wp.pages-1,this},WDialog.prototype.makeUp=function(title,body,onHidden){return this.title=title,this.body.addRow().addCol("12").add(body),onHidden&&(this.hh=onHidden),this},WDialog.prototype.onShownModal=function(handler){return this.sh=handler,this},WDialog.prototype.onHiddenModal=function(handler){return this.hh=handler,this},Object.defineProperty(WDialog.prototype,"header",{get:function(){return this.cntHeader||(this.cntHeader=new WUX.WContainer("","modal-header"),this.cntHeader)},enumerable:!1,configurable:!0}),Object.defineProperty(WDialog.prototype,"body",{get:function(){return this.cntBody||(this.cntBody=new WUX.WContainer("",WUX.cls("modal-body",this.bodyClass),"",this._attributes),this.cntBody)},enumerable:!1,configurable:!0}),Object.defineProperty(WDialog.prototype,"footer",{get:function(){return this.cntFooter||(this.cntFooter=new WUX.WContainer("","modal-footer"),this.cntFooter)},enumerable:!1,configurable:!0}),Object.defineProperty(WDialog.prototype,"title",{get:function(){return this._title},set:function(s){var _this=this,te=(this._title=s,document.getElementById(this.subId("title")));te?te.innerText=s:(WUX.BS_DLG_X?"string"==typeof WUX.BS_DLG_X?this.btnClose=new WUX.WButton(this.subId("bhc"),WUX.BS_DLG_X,"","close"):this.btnClose=new WUX.WButton(this.subId("bhc"),WUX.BS_DLG_X.title,WUX.BS_DLG_X.icon,WUX.BS_DLG_X.classStyle,WUX.BS_DLG_X.style,WUX.BS_DLG_X.attributes):4<WUX.BS_VER?this.btnClose=new WUX.WButton(this.subId("bhc"),"","","btn-close","",'aria-label="'+WUX.RES.CLOSE+'"'):this.btnClose=new WUX.WButton(this.subId("bhc"),'<span aria-hidden="true">&times;</span>',"","close"),this.btnClose.on("click",function(e){_this.close()}),this.header.add(this.buildTitle()).add(this.btnClose))},enumerable:!1,configurable:!0}),WDialog.prototype.onClickOk=function(){return!0},WDialog.prototype.onClickCancel=function(){return!0},WDialog.prototype.buildBtnOK=function(){return new WUX.WButton(this.subId("bfo"),WUX.RES.OK,"","btn btn-primary button-sm","","")},WDialog.prototype.buildBtnCancel=function(){return this.txtCancel?new WUX.WButton(this.subId("bfc"),this.txtCancel,"","btn btn-secondary button-sm","",""):new WUX.WButton(this.subId("bfc"),WUX.RES.CANCEL,"","btn btn-secondary button-sm","","")},WDialog.prototype.buttonOk=function(){var _this=this;if(this.btnOK)return this.btnOK;this.btnOK=this.buildBtnOK(),this.btnOK.on("click",function(e){if(_this.onClickOk()){if(_this.ok=!0,_this.cancel=!1,_this.wp)return _this.wp.back(),void _this._h();_this.$r&&_this.$r.modal("hide")}}),this.buttons.push(this.btnOK)},WDialog.prototype.buttonCancel=function(){var _this=this;if(this.btnCancel)return this.btnCancel;this.btnCancel=this.buildBtnCancel(),this.btnCancel.on("click",function(e){if(_this.onClickCancel()){if(_this.ok=!1,_this.cancel=!0,_this.wp)return _this.wp.back(),void _this._h();_this.$r&&_this.$r.modal("hide")}}),this.buttons.push(this.btnCancel)},WDialog.prototype.updButtons=function(ok,canc){return this.btnOK&&(ok?(this.btnOK.setText(ok),this.btnOK.visible=!0):""==ok?this.btnOK.visible=!1:(this.btnOK.setText(WUX.RES.OK),this.btnOK.visible=!0)),this.btnCancel&&(canc?(this.btnCancel.setText(canc),this.btnCancel.visible=!0):""==canc?this.btnCancel.visible=!1:(this.btnCancel.setText(WUX.RES.CANCEL),this.btnCancel.visible=!0)),this},WDialog.prototype.show=function(parent,handler){if(this.beforeShow()){if(this.ok=!1,this.cancel=!1,this.parent=parent,this.ph=handler,this.wp)return this.wp.show(this.pg),void this._s();this.mounted||WuxDOM.mount(this),this.$r&&(this.$r.modal({backdrop:"static",keyboard:!1,show:!1}),this.$r.modal("show"))}},WDialog.prototype.hide=function(){if(this.wp)return this.wp.back(),void this._h();this.$r&&this.$r.modal("hide")},WDialog.prototype.close=function(){if(this.ok=!1,this.cancel=!1,this.wp)return this.wp.back(),void this._h();this.$r&&this.$r.modal("hide")},WDialog.prototype.beforeShow=function(){return!0},WDialog.prototype.onShown=function(){},WDialog.prototype.onHidden=function(){},WDialog.prototype.render=function(){this._classStyle||(this._classStyle="modal fade"),this.mainClass||(this.mainClass=this.fullscreen?"modal-dialog modal-fullscreen":"modal-dialog modal-lg"),this.contClass||(this.contClass="modal-content"),this.isShown=!1,this.cntRoot=new WUX.WContainer(this.id,this._classStyle,"",'role="dialog" tabindex="-1" aria-hidden="true"'),this.cntMain=this.cntRoot.addContainer("",this.mainClass,this._style),this.cntContent=this.cntMain.addContainer("",this.contClass,this.contStyle),this.cntHeader&&this.cntContent.addContainer(this.cntHeader),this.cntBody&&this.cntContent.addContainer(this.cntBody);for(var _i=0,_b=this.buttons;_i<_b.length;_i++){var btn=_b[_i];this.footer.add(btn)}return this.cntFooter&&this.cntContent.addContainer(this.cntFooter),this.cntRoot},WDialog.prototype.componentDidMount=function(){var _this=this;this.$r&&(this.$r.on("shown.bs.modal",function(e){_this._s(e)}),this.$r.on("hidden.bs.modal",function(e){_this._h(e)}))},WDialog.prototype._s=function(e){e=e||{type:"shown"},this.isShown=!0,this.onShown(),this.sh&&this.sh(e)},WDialog.prototype._h=function(e){e=e||{type:"hidden"},this.isShown=!1,this.onHidden(),this.hh&&this.hh(e),this.ph&&(this.ph(e),this.ph=null)},WDialog.prototype.componentWillUnmount=function(){this.isShown=!1,this.btnClose&&this.btnClose.unmount(),this.btnCancel&&this.btnCancel.unmount(),this.cntFooter&&this.cntFooter.unmount(),this.cntBody&&this.cntBody.unmount(),this.cntHeader&&this.cntHeader.unmount(),this.cntContent&&this.cntContent.unmount(),this.cntMain&&this.cntMain.unmount(),this.cntRoot&&this.cntRoot.unmount()},WDialog.prototype.buildTitle=function(){this.tagTitle||(this.tagTitle="h3");var c=this.wp?"":'  class="modal-title"';return"<"+this.tagTitle+c+' id="'+this.subId("title")+'">'+WUX.WUtil.toText(this._title)+"</"+this.tagTitle+">"},WDialog}(WUX.WComponent),WDialog=(WUX.WDialog=WDialog,function(_super){function WTab(id,classStyle,style,attributes,props){id=_super.call(this,id||"*","WTab",props,classStyle,style,attributes)||this;return id.tabs=[],4<WUX.BS_VER?(id._t="button",id._a="data-bs-toggle",id._r="data-bs-target"):(id._t="a",id._a="data-toggle",id._r="href"),id}return __extends(WTab,_super),WTab.prototype.addTab=function(title,icon,style,attributes){style=new WUX.WContainer("","panel-body",style,attributes);return style.name=WUX.buildIcon(icon,""," ")+title,this.tabs.push(style),style},WTab.prototype.render=function(){this.state||(this.state=0);var r="<div";this._classStyle?r+=' class="tabs-container '+this._classStyle+'"':r+=' class="tabs-container"',r+=' id="'+this.id+'"',this._style&&(r+=' style="'+this._style+'"'),this._attributes&&(r+=" "+this._attributes);for(var r=r+">"+'<ul class="nav nav-tabs auto" role="tablist">',i=0;i<this.tabs.length;i++){var tab=this.tabs[i];i==this.state?r+='<li class="nav-item" role="presentation"><'+this._t+' class="nav-link active" '+this._a+'="tab" '+this._r+'="#'+this.id+"-"+i+'" role="tab"> '+tab.name+"</"+this._t+"></li>":r+='<li class="nav-item" role="presentation"><'+this._t+' class="nav-link" '+this._a+'="tab" '+this._r+'="#'+this.id+"-"+i+'" role="tab"> '+tab.name+"</"+this._t+"></li>"}r+="</ul>";var cs=WUX.css(this.contStyle);r+='<div class="tab-content"'+(cs=cs&&' style="'+cs+'"')+">";for(i=0;i<this.tabs.length;i++)i==this.state?r+='<div id="'+this.id+"-"+i+'" class="tab-pane show active" role="tabpanel"></div>':r+='<div id="'+this.id+"-"+i+'" class="tab-pane" role="tabpanel"></div>';return r+="</div></div>"},WTab.prototype.componentDidUpdate=function(prevProps,prevState){var $t=JQ(".nav-tabs "+this._t+"["+this._r+'="#'+this.id+"-"+this.state+'"]');$t&&$t.tab("show")},WTab.prototype.componentDidMount=function(){var _this=this;if(this.tabs.length){for(var i=0;i<this.tabs.length;i++){var container=this.tabs[i],tabPane=document.getElementById(this.id+"-"+i);tabPane&&container.mount(tabPane)}this.$r.find(this._t+"["+this._a+'="tab"]').on("shown.bs.tab",function(e){var e=e.target,b="";!(b=e instanceof Element?e.getAttribute(_this._r):b)||0<=(e=b.lastIndexOf("-"))&&_this.setState(parseInt(b.substring(e+1)))})}},WTab.prototype.componentWillUnmount=function(){for(var _i=0,_b=this.tabs;_i<_b.length;_i++){var c=_b[_i];c&&c.unmount()}},WTab}(WUX.WComponent)),WDialog=(WUX.WTab=WDialog,function(_super){function WCalendar(id,classStyle,style,attributes){id=_super.call(this,id||"*","WCalendar",1,classStyle,style,attributes)||this;return id.am=[],id.mt={},id.pm="Mese precedente",id.nm="Mese successivo",id.ct="table table-sm",id.cd="table-responsive",id.sp="padding:1rem;text-align:center;font-weight:bold;background-color:#eeeeee;",id.sm=id.sp,id.sn=id.sp,id.tr="height:3rem;",id.sw="text-align:center;",id.sd="text-align:center;vertical-align:middle;",id.so="text-align:center;vertical-align:middle;background-color:#f6f6f6;cursor:pointer;",id.ss="text-align:center;vertical-align:middle;background-color:#b8d4f1;",id.sk="text-align:center;vertical-align:middle;background-color:#ffeebc;",id.se="background-color:#f0f0f0;",id.st="font-weight:bold;",id.td=id.str(new Date),id}return __extends(WCalendar,_super),WCalendar.prototype.onDoubleClick=function(handler){this.handlers._doubleclick||(this.handlers._doubleclick=[]),this.handlers._doubleclick.push(handler)},WCalendar.prototype.updateState=function(nextState){this.state=nextState,this.state||(this.state=new Date);var nextState=this.state.getDate(),m=this.state.getMonth(),y=this.state.getFullYear();this.ls=1e4*y+100*(m+1)+nextState+""},WCalendar.prototype.render=function(){this.state||(this.state=new Date);for(var t='<table id="'+this.subId("t")+'" class="'+this.ct+'"><thead><tr>',x=0;x<7;x++){var k_1=6==x?0:x+1;t+='<th id="'+this.subId(k_1+"")+'" style="'+this.sw+'">'+WUX.formatDay(k_1,!1)+"</th>"}var t=(t+='</tr></thead><tbody id="'+this.subId("b")+'">')+this.body()+"</tbody></table>",m=this.state.getMonth(),m=100*this.state.getFullYear()+m+1,p='<a id="'+this.subId("p")+'" title="'+this.pm+'"><i class="fa fa-arrow-circle-left"></i></a>',n='<a id="'+this.subId("n")+'" title="'+this.nm+'"><i class="fa fa-arrow-circle-right"></i></a>',p='<div class="row"><div class="col-2" style="'+this.sp+'">'+p+'</div><div id="'+this.subId("m")+'" class="col-8" style="'+this.sm+'">'+WUX.formatMonth(m,!0,!0)+'</div><div class="col-2" style="'+this.sn+'">'+n+"</div></div>";return this.cd?p+='<div class="row"><div class="'+this.cd+'">'+t+"</div></div>":p+='<div class="row"><div class="col-12">'+t+"</div></div>",this.buildRoot(this.rootTag,p)},WCalendar.prototype.add=function(a){this.state||(this.state=new Date);var d=this.state.getDate(),m=this.state.getMonth(),y=this.state.getFullYear(),m=m+a,a=new Date(y,m,d),d=a.getMonth(),y=(d!=m&&(d=(a=new Date(y,m+1,0)).getMonth()),a.getFullYear());return this.setState(a),this.eb&&(this.eb.innerHTML=this.body()),this.em&&(this.em.innerText=WUX.formatMonth(100*y+d+1,!0,!0)),a},WCalendar.prototype.mark=function(){for(var p=[],_i=0;_i<arguments.length;_i++)p[_i]=arguments[_i];if(!p||!p.length)return this;for(var _b=0,p_1=p;_b<p_1.length;_b++){var o=p_1[_b],o=WUX.WUtil.toDate(o);o&&(o=this.str(o),this.am.push(o),o!=this.ls&&(o=document.getElementById(this.subId(o)))&&o.setAttribute("style",this.sk))}return this},WCalendar.prototype.unmark=function(){for(var p=[],_i=0;_i<arguments.length;_i++)p[_i]=arguments[_i];if(!p||!p.length)return this;for(var _b=0,p_2=p;_b<p_2.length;_b++){var o=p_2[_b],o=WUX.WUtil.toDate(o);o&&(o=this.str(o),this.unm(this.am.indexOf(o)))}return this},WCalendar.prototype.title=function(d,t){d=WUX.WUtil.toDate(d);if(!d)return this;d=this.str(d),this.mt[d]=t,d=document.getElementById(this.subId(d));return d&&d.setAttribute("title",t),this},WCalendar.prototype.unm=function(i,r){var k;void 0===r&&(r=!0),i<0||(k=this.am[i])&&(r&&this.am.splice(i,1),(r=document.getElementById(this.subId(k)))&&(this.str(this.state)==k?r.setAttribute("style",this.ss):r.setAttribute("style",this.sd)))},WCalendar.prototype.clear=function(){if(this.am&&this.am.length){for(var i=0;i<this.am.length;i++)this.unm(i,!1);this.am=[]}if(this.mt){for(var k in this.mt){k=document.getElementById(this.subId(k));k&&k.setAttribute("title",null)}this.mt={}}return this},WCalendar.prototype.prev=function(){return this.add(-1)},WCalendar.prototype.next=function(){return this.add(1)},WCalendar.prototype.ele=function(dt){return dt?document.getElementById(this.subId(this.str(dt))):null},WCalendar.prototype.str=function(dt){return dt?1e4*dt.getFullYear()+100*(dt.getMonth()+1)+dt.getDate()+"":null},WCalendar.prototype.from=function(){this.state||(this.state=new Date);var m=this.state.getMonth();return 1e4*this.state.getFullYear()+100*(m+1)+1+""},WCalendar.prototype.to=function(){this.state||(this.state=new Date);var m=this.state.getMonth(),y=this.state.getFullYear();return 1e4*y+100*(m+1)+new Date(y,m+1,0).getDate()+""},WCalendar.prototype.body=function(){this.state||(this.state=new Date);var b="",d=this.state.getDate(),m=this.state.getMonth(),y=this.state.getFullYear();this.ls=1e4*y+100*(m+1)+d+"";var w=new Date(y,m,1).getDay();0==w&&(w=7);for(var l=new Date(y,m+1,0).getDate(),z=1,r=1;r<=6;r++){this.tr?b+='<tr style="'+this.tr+'">':b+="<tr>";for(var k,t,a,c=1;c<=7;c++)1==r&&c<w||l<z?b+='<td style="'+this.se+'"></td>':(t=(k=1e4*y+100*(m+1)+z+"")==this.td?this.st:"",a=(a=this.mt[k])?' title="'+a+'"':"",k==this.ls?b+='<td id="'+this.subId(k)+'" style="'+this.ss+t+'"'+a+">"+z+"</td>":0<=this.am.indexOf(k)?b+='<td id="'+this.subId(k)+'" style="'+this.sk+t+'"'+a+">"+z+"</td>":b+='<td id="'+this.subId(k)+'" style="'+this.sd+t+'"'+a+">"+z+"</td>",z++);if(b+="</tr>",l<z)break}return b},WCalendar.prototype.componentDidMount=function(){var _this=this;this.ep=document.getElementById(this.subId("p")),this.em=document.getElementById(this.subId("m")),this.en=document.getElementById(this.subId("n")),this.et=document.getElementById(this.subId("t")),this.eb=document.getElementById(this.subId("b")),this.ep&&this.ep.addEventListener("click",function(e){_this.prev()}),this.en&&this.en.addEventListener("click",function(e){_this.next()}),this.root.addEventListener("click",function(e){var n,t,se,p,q,s=WUX.lastSub(e.target);s&&8==s.length&&(n=parseInt(s),t=s==_this.td?_this.st:"",(se=_this.ele(_this.state))&&(q=(p=_this.str(_this.state))==_this.td?_this.st:"",0<=_this.am.indexOf(p)?se.setAttribute("style",_this.sk+q):se.setAttribute("style",_this.sd+q)),e.target.style=_this.ss+t,_this.ls!=s&&_this.setState(new Date(n/1e4,n%1e4/100-1,n%1e4%100)))}),this.root.addEventListener("dblclick",function(e){e=WUX.lastSub(e.target);e&&8==e.length&&_this.trigger("_doubleclick",e)}),this.root.addEventListener("mouseover",function(e){var s=WUX.lastSub(e.target);s&&8==s.length&&(s=s==_this.td?_this.st:"",e.target.style=_this.so+s)}),this.root.addEventListener("mouseout",function(e){var t,s=WUX.lastSub(e.target);s&&8==s.length&&(t=s==_this.td?_this.st:"",s==_this.str(_this.state)?e.target.style=_this.ss+t:0<=_this.am.indexOf(s)?e.target.style=_this.sk+t:e.target.style=_this.sd+t)})},WCalendar}(WUX.WComponent)),WDialog=(WUX.WCalendar=WDialog,function(_super){function WChart(id,type,classStyle,style){id=_super.call(this,id||"*","WChart",type,classStyle,style)||this,id.rootTag="canvas",id.forceOnChange=!0,type=window.innerWidth;return id._w=750,id._h=370,(type<900||1920<type)&&(id._w=Math.round(750*type/1400),id._h=Math.round(370*id._w/750)),id._attributes='width="'+id._w+'" height="'+id._h+'"',id.fontSize=14,id.fontName="Arial",id.axis="#808080",id.grid="#a0a0a0",id.line="#e23222",id.offx=30,id.offy=30,id.barw=16,id}return __extends(WChart,_super),WChart.prototype.size=function(width,height){return this._w=width,this._h=height,this._w<40&&(this._w=40),this._h<40&&(this._h=40),this._attributes='width="'+this._w+'" height="'+this._h+'"',this},Object.defineProperty(WChart.prototype,"width",{get:function(){return this._w},set:function(v){this._w=v,this._w<40&&(this._w=40),this._attributes='width="'+this._w+'" height="'+this._h+'"'},enumerable:!1,configurable:!0}),Object.defineProperty(WChart.prototype,"height",{get:function(){return this._h},set:function(v){this._h=v,this._h<40&&(this._h=40),this._attributes='width="'+this._w+'" height="'+this._h+'"'},enumerable:!1,configurable:!0}),WChart.prototype.componentDidMount=function(){if(this.state){var s=this.state.series;if(s&&s.length){var d0=s[0];if(d0&&!(d0.length<2)){var cs=this.state.styles,r=this.root,ctx=r.getContext("2d");if(ctx){var labels=this.state.labels,pady=0,padx=0,drawL=!1,t0=(labels&&labels.length==d0.length&&(t0=4<(t0=(t0=labels[0])?t0.length:0)?Math.ceil(t0/2):2,pady=this.fontSize*t0+4,padx=2*this.fontSize+4,drawL=!0),r.width-this.offx-padx),ch=r.height-this.offy-pady,bw=t0/(d0.length-1),t0=(t0=Math.max.apply(Math,d0))||4,iy=(this.maxy&&this.maxy>t0&&(t0=this.maxy),[Math.round(t0/4),Math.round(t0/2),Math.round(3*t0/4)]),sy=ch/t0;ctx.beginPath(),ctx.lineWidth=1,ctx.strokeStyle=this.axis,ctx.moveTo(this.offx,this.offy),ctx.lineTo(this.offx,r.height-pady),ctx.lineTo(r.width-padx,r.height-pady),ctx.stroke(),ctx.beginPath(),ctx.setLineDash([4,8]),ctx.lineWidth=1,ctx.strokeStyle=this.grid;for(var i=1;i<d0.length;i++){var x=this.offx+i*bw;ctx.moveTo(x,this.offy),ctx.lineTo(x,r.height-pady)}ctx.moveTo(this.offx,this.offy),ctx.lineTo(r.width-padx,this.offy);for(var _i=0,iy_1=iy;_i<iy_1.length;_i++){var vy=iy_1[_i];ctx.moveTo(this.offx,r.height-pady-vy*sy),ctx.lineTo(r.width-padx,r.height-pady-vy*sy)}ctx.stroke(),ctx.fillStyle=this.axis,ctx.font=this.fontSize+"px "+this.fontName,ctx.fillText("0",0,r.height-pady);for(var _b=0,iy_2=iy;_b<iy_2.length;_b++){vy=iy_2[_b];ctx.fillText(""+vy,0,r.height-pady-vy*sy)}if(ctx.fillText(""+t0,0,this.offy),drawL)for(i=0;i<labels.length;i++){x=this.offx+i*bw;ctx.save(),ctx.translate(x-this.fontSize,r.height),ctx.rotate(-Math.PI/3),ctx.fillStyle=this.axis,ctx.fillText(labels[i],0,0),ctx.restore()}ch=this.props;if("bar"!=(ch=(ch=ch||this.state.type)||"line")){ctx.setLineDash([]);for(var j=0;j<s.length;j++){if(!(dj=s[j])||dj.length<d0.length)return;var sl=this.line;cs&&cs.length>j&&(sl=(sl=cs[j])||this.line),ctx.beginPath(),ctx.lineWidth=2,ctx.strokeStyle=sl,ctx.moveTo(this.offx,r.height-pady-dj[0]*sy);for(i=1;i<d0.length;i++){var x=this.offx+i*bw,y=r.height-pady-dj[i]*sy;ctx.lineTo(x,y)}ctx.stroke()}}else{this.barw<4&&(this.barw=4);for(var dj,j=0;j<s.length;j++){if(!(dj=s[j])||dj.length<d0.length)return;for(var sl=this.line,sx=(cs&&cs.length>j&&(sl=(sl=cs[j])||this.line),ctx.fillStyle=sl,j*(this.barw+1)),i=0;i<d0.length;i++){x=this.offx+i*bw,y=r.height-pady-dj[i]*sy;0==i?ctx.fillRect(x+sx,y,this.barw,dj[i]*sy):s.length<3?ctx.fillRect(x+sx-this.barw/2,y,this.barw,dj[i]*sy):ctx.fillRect(x+sx-this.barw/2-(this.barw+1)*(s.length-2),y,this.barw,dj[i]*sy)}}}}}}}},WChart}(WUX.WComponent));WUX.WChart=WDialog}(WUX=WUX||{});